<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="安逸"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="http://example.com/posts/e61328ad/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="📚博客搭建教程系列                  本系列记录在Debian 12下进行的Hexo博客搭建及部署。包括：📗 Hexo框架安装及配置 - 📑 Redefine主题修改 - 📁 Hexo插件 - 🧮 Redefine写作           相关参考网站：          Hexo官网  Redefine教程  Font Awesome  Mark"><meta property="og:type" content="article"><meta property="og:title" content="Redefine主题修改"><meta property="og:url" content="http://example.com/posts/e61328ad/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="📚博客搭建教程系列                  本系列记录在Debian 12下进行的Hexo博客搭建及部署。包括：📗 Hexo框架安装及配置 - 📑 Redefine主题修改 - 📁 Hexo插件 - 🧮 Redefine写作           相关参考网站：          Hexo官网  Redefine教程  Font Awesome  Mark"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-home-list-category.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-post-header.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-post-code-expand.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-post-copyright.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-footer.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-archive.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-category.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-tag.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-404.png"><meta property="og:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-about.png"><meta property="article:published_time" content="2024-08-22T15:07:53.000Z"><meta property="article:modified_time" content="2024-08-25T08:14:45.644Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Redefine"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://example.com/posts/e61328ad/blog-setup-redefine-home-list-category.png"><link rel="icon" type="image/png" href="/images/blog-logo.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/blog-logo.png"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="/images/blog-logo.png"><title>Redefine主题修改 - 春鸟秋虫自作声</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/assets/build/styles.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><link rel="stylesheet" href="/fonts/Misans/misans.css"><link href="" rel="stylesheet"><script src="/js/libs/anime.min.js"></script><script id="hexo-configurations">window.config={hostname:"example.com",root:"/",language:"zh-CN",path:"search.xml"},window.theme={articles:{style:{font_size:"16px",line_height:1.8,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,title_alignment:"left",headings_top_spacing:{h1:"2.8rem",h2:"2.2rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!1,auto:!1,list:[]},code_block:{copy:!0,style:"mac",font:{enable:!1,family:null,url:null},height_limit:200},toc:{enable:!0,max_depth:4,number:!0,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/post-default-cover.png",skip_dirs:[]},post_cover:"/images/post-default-cover.png",title_icon:{item:"\\e1cd",rotate:90}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!0,family:"MiSans",url:null},english:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!0},scroll_progress:{bar:!1,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!1,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:!0,open_graph:!0,google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/home-banner-bg-light-1.png",dark:"/images/home-banner-bg-dark-3.jpg"},title:"春鸟秋虫自作声",subtitle:{text:[],hitokoto:{enable:!0,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:{github:"https://github.com/welinkee",instagram:null,zhihu:null,twitter:null,email:"pailook@outlook.com"},qrs:{weixin:null}}},plugins:{feed:{enable:!1},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null,lrc:null}]},mermaid:{enable:!1,version:"9.3.0"}},version:"2.6.4",navbar:{auto_hide:!0,color:{left:"#f78736",right:"#367df7",transparency:30},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-duotone fa-solid fa-house"},Archives:{path:"/archives",icon:"fa-duotone fa-solid fa-box-archive"},Categories:{path:"/categories",icon:"fa-duotone fa-solid fa-folder-open"},Tags:{path:"/tags",icon:"fa-duotone fa-solid fa-tags"}},search:{enable:!0,preload:!1}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"right",first_item:"info",announcement:null,show_on_mobile:!0,links:null},article_date_format:"YYYY-MM-DD",categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2022/8/17 11:45:14"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!1}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><link rel="stylesheet" href="/fontawesome/duotone.min.css"><meta name="generator" content="Hexo 7.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style>
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span></div><style>:root{--preloader-background-color:#fff;--preloader-text-color:#000}@media (prefers-color-scheme:dark){:root{--preloader-background-color:#202124;--preloader-text-color:#fff}}@media (prefers-color-scheme:light){:root{--preloader-background-color:#fff;--preloader-text-color:#000}}@media (max-width:600px){.ml13{font-size:2.6rem!important}}.preloader{display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;position:fixed;padding:12px;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;background-color:var(--preloader-background-color);z-index:1100;transition:opacity .2s ease-in-out}.ml13{font-size:3.2rem;color:var(--preloader-text-color);letter-spacing:-1px;font-weight:500;font-family:Chillax-Variable,sans-serif;text-align:center}.ml13 .word{display:inline-flex;flex-wrap:wrap;white-space:nowrap}.ml13 .letter{display:inline-block;line-height:1em}</style><div class="preloader"><h2 class="ml13">春鸟秋虫自作声</h2><script>var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });

        var animation = anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [40,0],
                translateZ: 0,
                opacity: [0,1],
                filter: ['blur(5px)', 'blur(0px)'], // Starting from blurred to unblurred
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i,
            }).add({
                targets: '.ml13 .letter',
                translateY: [0,-40],
                opacity: [1,0],
                filter: ['blur(0px)', 'blur(5px)'], // Ending from unblurred to blurred
                easing: "easeInExpo",
                duration: 1200,
                delay: (el, i) => 100 + 30 * i,
                complete: function() {
                    hidePreloader(); // Call hidePreloader after the animation completes
                }
            });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            setTimeout(hidePreloader, 5000); // Call hidePreloader after 5000 milliseconds if not already called by animation
        });

        function hidePreloader() {
            var preloader = document.querySelector('.preloader');
            preloader.style.opacity = '0';
            setTimeout(function () {
                preloader.style.display = 'none';
            }, 200);
        }</script></div><main class="page-container" id="swup"><div class="main-content-container"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content"><div class="left"><a class="logo-image" href="/"><img src="/images/blog-logo.png"> </a><a class="logo-title" href="/">春鸟秋虫自作声</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-duotone fa-solid fa-house fa-fw"></i> 首页</a></li><li class="navbar-item"><a href="/archives"><i class="fa-duotone fa-solid fa-box-archive fa-fw"></i> 归档</a></li><li class="navbar-item"><a href="/categories"><i class="fa-duotone fa-solid fa-folder-open fa-fw"></i> 分类</a></li><li class="navbar-item"><a href="/tags"><i class="fa-duotone fa-solid fa-tags fa-fw"></i> 标签</a></li><li class="navbar-item search search-popup-trigger"><a><i class="fa-duotone fa-solid fa-magnifying-glass"></i>&nbsp;搜索</a></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-duotone fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>首页 </span><i class="fa-duotone fa-solid fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/archives"><span>归档 </span><i class="fa-duotone fa-solid fa-box-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/categories"><span>分类 </span><i class="fa-duotone fa-solid fa-folder-open fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/tags"><span>标签 </span><i class="fa-duotone fa-solid fa-tags fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">2</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">1</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">4</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><img src="/posts/e61328ad/redefine.png" alt="Redefine主题修改" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"><div class="w-full flex items-center absolute bottom-0 justify-start"><h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color">Redefine主题修改</h1></div></div><div class="article-header-meta-info px-2 sm:px-6 md:px-8"><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">更新日期：2024-08-25</span> <span class="mobile">更新日期：2024-08-25</span> <span class="hover-info">更新日期：</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<span>类别：</span><ul><li><a href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/">博客搭建教程</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp标签：<ul><li><a href="/tags/Hexo/">Hexo</a>&nbsp;</li><li>| <a href="/tags/Redefine/">Redefine</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>字数：10.1k 字</span></span></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><div class="note-large orange"><div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center"><p>📚博客搭建教程系列</p></div><div class="notel-content"><p>本系列记录在Debian 12下进行的Hexo博客搭建及部署。包括：<br>📗 <a href="/posts/ab126d32/" title="Hexo框架安装及配置">Hexo框架安装及配置</a> - 📑 <a href="/posts/e61328ad/" title="Redefine主题修改">Redefine主题修改</a> - 📁 <a href="/posts/1562b2a5/" title="Hexo插件">Hexo插件</a> - 🧮 <a href="/posts/805df67f/" title="Redefine写作">Redefine写作</a></p></div></div><p>相关参考网站：</p><div class="note p-4 mb-4 rounded-small blue"><ul><li><a class="link" target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/index.html">Hexo官网 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://redefine-docs.ohevan.com/">Redefine教程 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://fontawesome.com/v6/icons">Font Awesome <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://markdown.com.cn/intro.html">Markdown 官方教程 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul></div><hr><h2 id="字体引入"><a href="#字体引入" class="headerlink" title="字体引入"></a>字体引入</h2><p>本文使用了<a class="link" target="_blank" rel="noopener" href="https://hyperos.mi.com/font">MiSans <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>字体。</p><ol><li>为了引入该字体，首先下载该字体资源，然后在<code>&lt;Blog&gt;\themes\redefine\source\fonts\</code>下新建<code>Misans</code>文件夹，在内部新建文件<code>misans.css</code>：<div class="highlight-container" data-rel="Css"><figure class="iseeu highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> {</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'MiSans'</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">'MiSans'</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'MiSans-Regular.woff2'</span>) <span class="built_in">format</span>(<span class="string">'woff2'</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'MiSans-Regular'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'MiSans-Regular.ttf'</span>) <span class="built_in">format</span>(<span class="string">'truetype'</span>);</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">200</span> <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">font-display</span>: swap;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div><code>@font-face</code>新建字体，<code>font-family</code>定义了字体名，<code>src</code>定义了字体资源路径.例如，在上面的文件中，浏览器首先在电脑本地寻找<code>MiSans</code>字体资源，若没有找到，则在当前目录下寻找<code>MiSans-Regular.woff2</code>的文件，以此类推。<code>font-weight</code>定义了字体的粗细范围，这里是在200~700间。<code>font-display: swap</code>表示如果字体还没有加载完成，浏览器应该使用一个系统字体来临时显示文本，一旦自定义字体加载完成，再替换成自定义字体。<code>font-style</code>定义字体风格为正常（不是斜体）。</li></ol><p>然后将下载的<code>woff2</code>、<code>woff</code>和<code>tff</code>字体资源复制到<code>Misans</code>文件夹下。</p><ol start="2"><li>在<code>&lt;Blog&gt;\themes\redefine\layout\_partials\head.ejs</code>文件中引入刚定义的字体：<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt; </span><br><span class="line">    ...</span><br><span class="line">    &lt;%- renderCSS('fonts/GeistMono/geist-mono.css') %&gt;</span><br><span class="line">    &lt;%- renderCSS('fonts/Geist/geist.css') %&gt;</span><br><span class="line">    &lt;%- renderCSS('fonts/Misans/misans.css') %&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></tbody></table></figure></div></li></ol><h2 id="首页分类栏"><a href="#首页分类栏" class="headerlink" title="首页分类栏"></a>首页分类栏</h2><p>为首页的博文列表添加分类按钮，以便根据分类来选择博文，渲染效果如下图所示：<br><img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-home-list-category.png"></p><ol><li><p>在<code>&lt;Blog&gt;\source\js\</code>下新建文件<code>selectCategory.js</code>：</p><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectCategory</span>(<span class="params">category</span>) {</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为选中的项目添加select类。方法是先删除所有项目的select类，然后再为选中的项目添加select类</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.category-bar-item'</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">item</span>) {</span><br><span class="line">        item.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">'select'</span>);</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> selectedItem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(category);</span><br><span class="line">    <span class="keyword">if</span> (selectedItem) {</span><br><span class="line">        selectedItem.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">'select'</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据分类的选择，来更新博文列表</span></span><br><span class="line">    <span class="keyword">if</span> (category === <span class="string">'all'</span>) {</span><br><span class="line">        <span class="comment">// 显示所有列表</span></span><br><span class="line">        <span class="keyword">var</span> categoryContents = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.home-article-item'</span>);</span><br><span class="line">        categoryContents.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">content</span>) {  </span><br><span class="line">            content.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span>;  </span><br><span class="line">        });             </span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// 隐藏列表中的不属于该分类的博文。方法是先给所有的博文添加display:none属性，然后再为指定博文添加display: block属性            </span></span><br><span class="line">        <span class="keyword">var</span> categoryContents = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.home-article-item'</span>);</span><br><span class="line">        categoryContents.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">content</span>) {  </span><br><span class="line">            content.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'none'</span>;  </span><br><span class="line">        });  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> categoryContents = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.'</span>+category);</span><br><span class="line">        categoryContents.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">content</span>) {  </span><br><span class="line">            content.<span class="property">style</span>.<span class="property">display</span> = <span class="string">'block'</span>;</span><br><span class="line">        });             </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在<code>&lt;Blog&gt;\themes\redefine\layout\_partials\</code>下新建文件<code>category-bar.ejs</code>：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id="category-bar"&gt;</span><br><span class="line">    &lt;div id="category-bar-items" class="&lt;%= is_home() ? 'home' : '' %&gt;"&gt;</span><br><span class="line">        &lt;div class="category-bar-item select" id="all"&gt;  </span><br><span class="line">            &lt;a onclick="selectCategory('all')"&gt;&lt;%= __('categoryBar.all') %&gt;&lt;/a&gt;   </span><br><span class="line">        &lt;/div&gt;     </span><br><span class="line">        &lt;% </span><br><span class="line">            var categories = site.categories.find({ parent: { $exists: false } });</span><br><span class="line">            var wordcount = categories.map(function(category) { return category.name; }).join('').length;</span><br><span class="line">        %&gt;    </span><br><span class="line">        &lt;% if (wordcount &gt; 40 || categories.data.length &gt; 6) { %&gt;</span><br><span class="line">            &lt;% site.categories.find({ parent: { $exists: false } }).data.slice(0, 6).forEach(function(item) { %&gt;  </span><br><span class="line">                &lt;div class="category-bar-item category-bar-hidden-item" id="&lt;%= item.name %&gt;"&gt;  </span><br><span class="line">                    &lt;a onclick="selectCategory('&lt;%= item.name %&gt;')"&gt;&lt;%= item.name %&gt;&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;  </span><br><span class="line">            &lt;% }); %&gt;</span><br><span class="line">        &lt;% } else { %&gt;</span><br><span class="line">            &lt;% site.categories.find({ parent: { $exists: false } }).data.forEach(function(item) { %&gt;  </span><br><span class="line">                &lt;div class="category-bar-item category-bar-hidden-item"  id="&lt;%= item.name %&gt;"&gt;</span><br><span class="line">                    &lt;a onclick="selectCategory('&lt;%= item.name %&gt;')"&gt;&lt;%= item.name %&gt;&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;  </span><br><span class="line">            &lt;% }); %&gt;</span><br><span class="line">        &lt;% } %&gt; </span><br><span class="line">    &lt;/div&gt;    </span><br><span class="line"></span><br><span class="line">    &lt;script src="&lt;%- url_for('js/selectCategory.js') %&gt;"&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="category-bar-right"&gt;</span><br><span class="line">        &lt;a class="category-bar-more" href="&lt;%= url_for('/categories/') %&gt;"&gt;&lt;%= __('categoryBar.more') %&gt;&lt;/a&gt;        </span><br><span class="line">    &lt;/div&gt;    </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\layout\_partials\home-content.ejs</code>进行修改：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="home-content-container"&gt;</span><br><span class="line">    &lt;% if (is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/category-bar') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">    &lt;ul class="home-article-list"&gt;</span><br><span class="line">        &lt;% page.posts.forEach(post =&gt; { %&gt;</span><br><span class="line"></span><br><span class="line">            &lt;% let firstCategory = null; %&gt;</span><br><span class="line">            &lt;% post.categories.forEach((category, i) =&gt; {</span><br><span class="line">                if (i === 0) { %&gt;</span><br><span class="line">                    &lt;% firstCategory = category.name %&gt;</span><br><span class="line">                &lt;% }</span><br><span class="line">            }); %&gt; </span><br><span class="line"></span><br><span class="line">            &lt;li class="home-article-item &lt;%= firstCategory %&gt;" style="display: block"&gt;             </span><br><span class="line">                &lt;% if (post.sticky) { %&gt;</span><br><span class="line">                    &lt;div class="absolute top-[12px] right-[12px] text-[0.7rem] text-third-text-color rounded-medium bg-background-color-transparent-15 py-[2px] px-[10px] border border-border-color z-1 hover:text-first-text-color cursor-default"&gt;</span><br><span class="line">                        &lt;i class="fa-regular fa-thumbtack mr-[3px] text-[0.65rem]"&gt;&lt;/i&gt;&lt;%- __('sticky') %&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;%  let articleThumbnail = "";</span><br><span class="line">                if (post.cover || post.banner || (post.thumbnail &amp;&amp; post.thumbnail !== false)) { %&gt;</span><br><span class="line">                    &lt;%</span><br><span class="line">                    if (post.thumbnail &amp;&amp; post.thumbnail !== null) {</span><br><span class="line">                      articleThumbnail = post.thumbnail;</span><br><span class="line">                    } else if (post.cover &amp;&amp; post.cover.includes("/")) {</span><br><span class="line">                      articleThumbnail = post.cover;</span><br><span class="line">                    } else if (post.banner &amp;&amp; post.banner.includes("/")) {</span><br><span class="line">                      articleThumbnail = post.banner;</span><br><span class="line">                    } else if (config.marked.postAsset &amp;&amp; config.marked.postAsset == true) {</span><br><span class="line">                      articleThumbnail = [post.path, post.cover || post.banner].join("/");</span><br><span class="line">                    }</span><br><span class="line">                    %&gt;</span><br><span class="line">                &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% if (post.thumbnail !== false &amp;&amp; (post.thumbnail || post.cover || post.banner)) { %&gt;</span><br><span class="line">                    &lt;div id="home-article-thumbnail" class="home-article-thumbnail relative h-[150px] overflow-hidden rounded-t-large"&gt;</span><br><span class="line">                        &lt;a href="&lt;%- url_for(post.path) %&gt;"&gt;</span><br><span class="line">                            &lt;img src="&lt;%- url_for(articleThumbnail) %&gt;" alt="&lt;%= post.title %&gt;" class="w-full h-full object-cover dark:brightness-75 transition-all" /&gt;</span><br><span class="line">                        &lt;/a&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;% } %&gt;</span><br><span class="line">                &lt;div class="flex flex-col gap-5 px-7 pb-7 &lt;%= post.thumbnail !== false &amp;&amp; (post.thumbnail || post.cover || post.banner) ? "pt-5" : "pt-7" %&gt;"&gt;</span><br><span class="line">                    &lt;h3 class="home-article-title"&gt;</span><br><span class="line">                        &lt;a href="&lt;%- url_for(post.path) %&gt;"&gt;</span><br><span class="line">                            &lt;%= post.title %&gt;</span><br><span class="line">                        &lt;/a&gt;</span><br><span class="line">                    &lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;div class="home-article-content markdown-body"&gt;</span><br><span class="line">                        &lt;% if (post.excerpt &amp;&amp; post.excerpt == "false") { %&gt;</span><br><span class="line">                        &lt;% } else if (post.excerpt &amp;&amp; post.excerpt !== "false") { %&gt;</span><br><span class="line">                            &lt;%- render(post.excerpt, "markdown") %&gt;</span><br><span class="line">                        &lt;% } else { %&gt;</span><br><span class="line">                            &lt;%- truncate(strip_html(post.content), {length: 128}) %&gt;</span><br><span class="line">                        &lt;% } %&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;%- partial('_meta/home-article', {post: post}) %&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">        &lt;% }) %&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="home-paginator px-7 py-5"&gt;</span><br><span class="line">        &lt;%- partial('_widgets/paginator', {pageObject: page}) %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>接下来添加CSS样式文件。在<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\</code>下新建<code>category-bar.styl</code>文件：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">'../../common/variables'</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#category-bar</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">font-family</span> <span class="variable">$english</span>-font-family, <span class="variable">$chinese</span>-font-family, <span class="string">'Noto Sans SC'</span>, sans-serif</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">  <span class="attribute">font-size</span> <span class="number">1.3rem</span></span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--default-text-color)    </span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">2.2</span></span><br><span class="line">  <span class="attribute">background-color</span> <span class="built_in">var</span>(--background-color-transparent-<span class="number">80</span>) <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  <span class="attribute">white-space</span> nowrap</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  <span class="attribute">transition</span> <span class="number">0.3s</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">50px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">justify-content</span> space-between</span><br><span class="line">  user-<span class="selector-tag">select</span> <span class="attribute">none</span></span><br><span class="line">  <span class="attribute">align-items</span> center</span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="built_in">redefine-container</span>(</span><br><span class="line">    true,</span><br><span class="line">    <span class="number">1.015</span>,</span><br><span class="line">    <span class="number">1.015</span>,</span><br><span class="line">    <span class="number">0.5em</span>,</span><br><span class="line">    <span class="number">38px</span></span><br><span class="line">  )  </span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.category-bar-right</span></span><br><span class="line">    <span class="attribute">display</span> flex</span><br><span class="line">    <span class="attribute">align-items</span> center</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.category-bar-more</span></span><br><span class="line">      <span class="attribute">margin-left</span> <span class="number">4px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">      <span class="attribute">display</span> flex</span><br><span class="line">      <span class="attribute">align-items</span> center  </span><br><span class="line">      <span class="attribute">padding</span> .<span class="number">1rem</span> .<span class="number">5rem</span> </span><br><span class="line">      <span class="attribute">height</span> <span class="number">30px</span>   </span><br><span class="line">      </span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span></span><br><span class="line">      <span class="attribute">background</span> <span class="built_in">var</span>(--primary-color)</span><br><span class="line">      <span class="attribute">color</span> <span class="built_in">var</span>(--fourth-text-color)</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#category-bar-items</span></span><br><span class="line">    <span class="attribute">white-space</span> nowrap</span><br><span class="line">    <span class="attribute">overflow-x</span> scroll</span><br><span class="line">    <span class="attribute">overflow-y</span> hidden</span><br><span class="line">    <span class="attribute">display</span> flex</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">    <span class="attribute">align-items</span> center</span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">    &amp;::-webkit-scrollbar</span><br><span class="line">      <span class="attribute">display</span> none</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.category-bar-item</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span></span><br><span class="line">        <span class="attribute">background</span> <span class="built_in">var</span>(--primary-color)</span><br><span class="line">        <span class="attribute">color</span> <span class="built_in">var</span>(--fourth-text-color)</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span></span><br><span class="line">        <span class="attribute">padding</span> .<span class="number">1rem</span> .<span class="number">5rem</span></span><br><span class="line">        <span class="attribute">margin-right</span> <span class="number">6px</span></span><br><span class="line">        <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">        <span class="attribute">display</span> flex</span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">      &amp;<span class="selector-class">.select</span></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">background</span> <span class="built_in">var</span>(--primary-color)</span><br><span class="line">          <span class="attribute">color</span> <span class="built_in">var</span>(--fourth-text-color)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div><p>这个文件引入了一些文字显示内容，需要在<code>&lt;Blog&gt;\themes\redefine\languages\</code>中进行定义。在中文名称定义文件<code>zh-CN.yml</code>中进行如下修改：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">+</span> <span class="comment"># ----------------------------------------</span></span><br><span class="line"><span class="string">+</span> <span class="comment"># 首页分类栏</span></span><br><span class="line"><span class="string">+</span> <span class="comment"># ----------------------------------------</span></span><br><span class="line"><span class="string">+</span> <span class="attr">categoryBar:</span></span><br><span class="line"><span class="string">+</span>   <span class="attr">all:</span> <span class="string">全部</span></span><br><span class="line"><span class="string">+</span>   <span class="attr">more:</span> <span class="string">更多</span></span><br></pre></td></tr></tbody></table></figure></div><p>为了支持多语言，尚需在其余语言定义文件中进行相应修改。</p></li><li><p>最后在<code>&lt;Blog&gt;\themes\redefine\source\css\style.styl</code>中引入刚才新建的<code>category-bar.styl</code>文件：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">@import</span> <span class="string">'layout/_partials/article-meta-info.styl'</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">'layout/_partials/article-copyright-info.styl'</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">'layout/home-content.styl'</span></span><br><span class="line"></span><br><span class="line">+ <span class="comment">// category-bar</span></span><br><span class="line">+ <span class="keyword">@import</span> <span class="string">'layout/_partials/category-bar.styl'</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>这种分类栏在横向上延伸，桌面端页面宽度可以满足要求，但在移动端的显示则会显得相当拥挤。因此，移动端页面应该不显示各分类。这可以通过对<code>&lt;Blog&gt;\themes\redefine\source\assets\build\style.css</code>文件进行修改来实现。在<code>category-bar.ejs</code>中，所有的分类子项都设置<code>class</code>类为<code>category-bar-hidden-item</code>。在<code>style.css</code>中，首先设置该类的<code>display</code>属性为<code>none</code>；然后在<code>@media (min-width: 768px)</code>中再设置该类的<code>display</code>属性为<code>block</code>，即可实现自适应效果。</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="selector-class">.category-bar-hidden-item</span> {</span><br><span class="line">+   <span class="attribute">display</span>: none;</span><br><span class="line">+ }</span><br><span class="line"></span><br><span class="line">+ <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) {</span><br><span class="line">+   <span class="selector-class">.category-bar-hidden-item</span> {</span><br><span class="line">+       <span class="attribute">display</span>: block;</span><br><span class="line">+   }  </span><br><span class="line">+}</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>页面圆角矩形元素的外框弧度过大，可以在<code>&lt;Blog&gt;\themes\redefine\source\css\common\redefine-theme.styl</code>中，对<code>redefine-container</code>进行修改。其定义为：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">redefine-container</span><span class="params">(isTransform, scaleX, scaleY, padding, marginBottomValue)</span></span></span><br><span class="line">  <span class="attribute">padding</span> padding</span><br><span class="line">  <span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-large</span><br><span class="line">  <span class="attribute">box-sizing</span> border-box</span><br><span class="line">  <span class="attribute">background</span> <span class="built_in">var</span>(--background-color)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (marginBottomValue != <span class="number">0</span>)</span><br><span class="line">    <span class="attribute">margin-bottom</span> marginBottomValue</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">      <span class="attribute">margin-bottom</span>: marginBottomValue * <span class="number">0.8</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">      <span class="attribute">margin-bottom</span>: marginBottomValue * <span class="number">0.6</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">hover-style</span>(isTransform, scaleX, scaleY)</span><br><span class="line"></span><br><span class="line">  +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">    <span class="attribute">padding</span>: padding - <span class="number">4</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="variable">$redefine</span>-border-radius-large</span><br><span class="line"></span><br><span class="line">  +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">    <span class="attribute">padding</span>: padding - <span class="number">8</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="variable">$redefine</span>-border-radius-large</span><br></pre></td></tr></tbody></table></figure></div><p>可以看到，圆角矩形的弧度由变量<code>redefine-border-radius-large</code>决定，该变量定义在<code>&lt;Blog&gt;\themes\redefine\source\css\common\variables.styl</code>中。该文件内还定义有其他的弧度：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-none = <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xsmall = <span class="number">4px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xsmall-top = <span class="number">4px</span> <span class="number">4px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xsmall-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">4px</span> <span class="number">4px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-small = <span class="number">9px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-small-top = <span class="number">9px</span> <span class="number">9px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-small-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">9px</span> <span class="number">9px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-medium = <span class="number">14px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-medium-top = <span class="number">14px</span> <span class="number">14px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-medium-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">14px</span> <span class="number">14px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-large = <span class="number">18px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-large-top = <span class="number">18px</span> <span class="number">18px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-large-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">18px</span> <span class="number">18px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xlarge = <span class="number">24px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xlarge-top = <span class="number">24px</span> <span class="number">24px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xlarge-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">24px</span> <span class="number">24px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xxlarge = <span class="number">48px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xxlarge-top = <span class="number">48px</span> <span class="number">48px</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-xxlarge-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">48px</span> <span class="number">48px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-full = <span class="number">50%</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-full-top = <span class="number">50%</span> <span class="number">50%</span> <span class="number">0px</span> <span class="number">0px</span></span><br><span class="line"><span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-full-bottom = <span class="number">0px</span> <span class="number">0px</span> <span class="number">50%</span> <span class="number">50%</span></span><br></pre></td></tr></tbody></table></figure></div><p>从中选择一个替代<code>&lt;Blog&gt;\themes\redefine\source\css\common\redefine-theme.styl</code>中的<code>redefine-border-radius-large</code>变量即可。</p></li><li><p>当存在分页页面时，若某个子项不在第一页，选择类别后，该项同样还是在原页，而不是递进至第一页。所以这种方法实际很呆板。最后放弃了这种效果，这里只是做一个记录。</p></li></ol><h2 id="文章页样式"><a href="#文章页样式" class="headerlink" title="文章页样式"></a>文章页样式</h2><p>文章页面的渲染效果如下：<br><img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-post-header.png"></p><h3 id="页首背景图片"><a href="#页首背景图片" class="headerlink" title="页首背景图片"></a>页首背景图片</h3><ol><li><p>首先对<code>_config.redefine.yml</code>文件进行修改，增加一些参数：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">home_banner:</span></span><br><span class="line">  <span class="comment"># Background image</span></span><br><span class="line">  <span class="comment"># 若设置了bg_img_api，则使用该图片。若该链接失效，或者没有设置，则使用bg_default_img</span></span><br><span class="line">  <span class="attr">bg_img_api:</span> <span class="string">https://dailybing.com/api/v1</span></span><br><span class="line">  <span class="attr">bg_default_img:</span> <span class="string">/imgs/home-banner-img.jpg</span></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>进行修改：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial('_widgets/progress-bar') %&gt;</span><br><span class="line">&lt;% if (theme.global.preloader) { %&gt;</span><br><span class="line">    &lt;%- partial('_partials/preloader') %&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;main class="page-container" id="swup"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-banner') %&gt;</span><br><span class="line">    &lt;% } else if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; page.prev &amp;&amp; theme.home_banner.style === "fixed") { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-background') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    // &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="line">    // 新增以下内容</span><br><span class="line">    &lt;% if( is_post() ) { %&gt;</span><br><span class="line">        &lt;% if (theme.post_banner.bg_img_api) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_img_api %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;% } else if (theme.post_banner.bg_default_img) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_default_img %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%  } else { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src='/imgs/home-banner-img.jpg'&gt; &lt;/div&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">    // &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在<code>&lt;Blog&gt;\themes\redefine\source\css\layout\page.styl</code>中添加<code>CSS</code>样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-container</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">box-sizing</span> border-box</span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">height</span> auto</span><br><span class="line">  <span class="attribute">background</span> <span class="built_in">var</span>(--background-color)</span><br><span class="line"></span><br><span class="line">  +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">    <span class="attribute">padding-right</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#post-banner-bg-img</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">50vh</span></span><br><span class="line">    <span class="attribute">background-size</span> cover</span><br><span class="line">    <span class="attribute">background-position</span> center</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>此外，还需要设置这个图片的高度，通过修改<code>&lt;Blog&gt;\themes\redefine\source\assets\build\style.css</code>文件来实现。桌面端和移动端的设置并不相同：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="selector-id">#post-banner-bg-img</span> {</span><br><span class="line">+   <span class="attribute">height</span>: <span class="number">30vh</span>;</span><br><span class="line">+ }</span><br><span class="line"></span><br><span class="line">+ <span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) {</span><br><span class="line">+   <span class="selector-id">#post-banner-bg-img</span> {</span><br><span class="line">+       <span class="attribute">height</span>: <span class="number">50vh</span>;</span><br><span class="line">+   }  </span><br><span class="line">+}</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>实际运行中可能出现<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>中脚本为正确加载而导致背景图片显示失败</p></li></ol><h3 id="正文栏"><a href="#正文栏" class="headerlink" title="正文栏"></a>正文栏</h3><ol><li><p>正文栏叠加在页首背景图片上，二者部分重叠，形成一种空间感。这种效果可以通过修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\page.styl</code>文件来实现：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-container</span></span><br><span class="line">    <span class="selector-class">.main-content-container</span></span><br><span class="line">        <span class="selector-class">.main-content-body</span></span><br><span class="line">            <span class="selector-class">.main-content</span></span><br><span class="line">                <span class="attribute">position</span> relative</span><br><span class="line">                <span class="attribute">box-sizing</span> border-box</span><br><span class="line">                <span class="attribute">width</span> <span class="variable">$main</span>-content-width</span><br><span class="line">                <span class="attribute">max-width</span> <span class="variable">$content</span>-max-width</span><br><span class="line">                <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">                <span class="attribute">transition</span><span class="built_in">-t</span>(<span class="string">'max-width, width'</span>, <span class="string">'0, 0'</span>, <span class="string">'0.2, 0.2'</span>, <span class="string">'ease, ease'</span>)</span><br><span class="line"></span><br><span class="line">                +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">                    <span class="attribute">width</span> <span class="variable">$main</span>-content-width-tablet</span><br><span class="line"></span><br><span class="line">                +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">                    <span class="attribute">width</span> <span class="variable">$main</span>-content-width-mobile</span><br><span class="line"></span><br><span class="line">                &amp;<span class="selector-class">.has-toc</span></span><br><span class="line">                    <span class="attribute">max-width</span> <span class="variable">$has</span>-toc-content-max-width <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">                <span class="selector-class">.post-page-container</span></span><br><span class="line">                    <span class="attribute">margin-top</span> -<span class="number">180px</span></span><br><span class="line">                    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">                        <span class="attribute">margin-top</span> -<span class="number">180px</span></span><br><span class="line">                    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">                        <span class="attribute">margin-top</span> -<span class="number">120px</span>                </span><br></pre></td></tr></tbody></table></figure></div></li><li><p>正文栏边框阴影效果的实现需要修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\article-content.styl</code>文件来实现：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-page-container</span> </span><br><span class="line">    <span class="selector-class">.article-content-container</span></span><br><span class="line">+            <span class="attribute">background</span> <span class="built_in">var</span>(--background-color)</span><br><span class="line">+            <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">15px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.24</span>), <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>)</span><br><span class="line">+            <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">+                <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">15px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.24</span>), <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>)</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>前面两部分设置使用了变量<code>var(--background-color-transparent-100)</code>和<code>var(--background-color)</code>，二者定义在<code>&lt;Blog&gt;\themes\redefine\source\css\common\variables.styl</code>中：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span> = <span class="number">#fff</span></span><br><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span>-transparent = <span class="built_in">rgba</span>(<span class="number">238</span>, <span class="number">238</span>, <span class="number">238</span>, <span class="number">0.6</span>)</span><br><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">100</span> = <span class="built_in">rgba</span>(<span class="number">238</span>, <span class="number">238</span>, <span class="number">238</span>, <span class="number">1</span>)</span><br><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">80</span> = <span class="built_in">rgba</span>(<span class="number">238</span>, <span class="number">238</span>, <span class="number">238</span>, <span class="number">0.8</span>)</span><br><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">40</span> = <span class="built_in">rgba</span>(<span class="number">238</span>, <span class="number">238</span>, <span class="number">238</span>, <span class="number">0.4</span>)</span><br><span class="line"><span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">15</span> = <span class="built_in">rgba</span>(<span class="number">238</span>, <span class="number">238</span>, <span class="number">238</span>, <span class="number">0.15</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span> = <span class="number">#202124</span></span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span>-transparent = <span class="built_in">rgba</span>(<span class="number">32</span>, <span class="number">33</span>, <span class="number">36</span>, <span class="number">0.4</span>)</span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span>-transparent-<span class="number">100</span> = <span class="built_in">rgba</span>(<span class="number">32</span>, <span class="number">33</span>, <span class="number">36</span>, <span class="number">1</span>)</span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span>-transparent-<span class="number">80</span> = <span class="built_in">rgba</span>(<span class="number">32</span>, <span class="number">33</span>, <span class="number">36</span>, <span class="number">0.8</span>)</span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span>-transparent-<span class="number">40</span> = <span class="built_in">rgba</span>(<span class="number">32</span>, <span class="number">33</span>, <span class="number">36</span>, <span class="number">0.4</span>)</span><br><span class="line"><span class="variable">$dark</span>-<span class="attribute">background-color</span>-transparent-<span class="number">15</span> = <span class="built_in">rgba</span>(<span class="number">32</span>, <span class="number">33</span>, <span class="number">36</span>, <span class="number">0.15</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">root-color</span><span class="params">(mode)</span></span> {</span><br><span class="line">  <span class="attr">--background-color</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span> : <span class="variable">$dark</span>-background-color</span><br><span class="line">  <span class="attr">--background-color-transparent</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span>-transparent : <span class="variable">$dark</span>-background-color-transparent</span><br><span class="line">  <span class="attr">--background-color-transparent-15</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">15</span> : <span class="variable">$dark</span>-background-color-transparent-<span class="number">15</span></span><br><span class="line">  <span class="attr">--background-color-transparent-40</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">40</span> : <span class="variable">$dark</span>-background-color-transparent-<span class="number">40</span></span><br><span class="line">  <span class="attr">--background-color-transparent-80</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">80</span> : <span class="variable">$dark</span>-background-color-transparent-<span class="number">80</span></span><br><span class="line">  <span class="attr">--background-color-transparent-100</span> mode == <span class="string">'light'</span> ? <span class="variable">$background</span>-<span class="attribute">color</span>-transparent-<span class="number">100</span> : <span class="variable">$dark</span>-background-color-transparent-<span class="number">100</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>文章封面图片会显示在正文的顶部。该图片可以通过在<code>Markdown</code>文件的抬头中定义<code>cover</code>或者<code>banner</code>属性来定义。但如果<code>Markdown</code>文件没定义，则应该选择一个默认的图片。原主题没有这个功能，可以通过修改<code>&lt;Blog&gt;\themes\redefine\layout\article-content.ejs</code>文件来实现：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="post-page-container flex relative justify-between box-border w-full h-full"&gt;</span><br><span class="line">    &lt;div class="article-content-container"&gt;</span><br><span class="line"></span><br><span class="line">+       &lt;%- partial('_partials/headerCover', {articleObject: page}) %&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li></ol><p>这里引用了<code>&lt;Blog&gt;\themes\redefine\layout\_partials\headerCover.ejs</code>文件，其内容为：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="article-title relative w-full"&gt;</span><br><span class="line">    &lt;% let articleCover = theme.articles.header_cover_src; %&gt;</span><br><span class="line">    &lt;% if (page.cover || page.banner || (page.thumbnail &amp;&amp; page.thumbnail !== false)) { %&gt;</span><br><span class="line">        &lt;% if (page.cover &amp;&amp; page.cover.includes("/")) {</span><br><span class="line">            articleCover = page.cover;</span><br><span class="line">        } else if (page.banner &amp;&amp; page.banner.includes("/")) {</span><br><span class="line">            articleCover = page.banner;</span><br><span class="line">        } else if (page.thumbnail &amp;&amp; page.thumbnail !== null) {</span><br><span class="line">            articleCover = page.thumbnail;</span><br><span class="line">        } else if (config.marked.postAsset &amp;&amp; config.marked.postAsset == true) {</span><br><span class="line">            articleCover = [page.path, page.cover || page.banner].join("/");</span><br><span class="line">        } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if ( page.cover === false || page.banner === false || page.thumbnail === false  ) { %&gt;</span><br><span class="line">        &lt;img src="&lt;%= url_for(articleCover) %&gt;" alt="&lt;%= page.title %&gt;" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="w-full flex items-center absolute bottom-0 &lt;%= page.title_alignment ? ( page.title_alignment === "start" ? "justify-start" : "justify-center" ) : ( is_post() ? "justify-start" : "justify-center") %&gt;"&gt;</span><br><span class="line">        &lt;h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color "&gt;&lt;%= is_archive()? __('archives') : __(page.title) %&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div><p>其中使用了来自<code>_config.redefine.yml</code>的定义<code>theme.articles.cover</code>，所以还需要对<code>_config.redefine.yml</code>进行修改：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">articles:</span></span><br><span class="line">  <span class="comment"># Header banner background image</span></span><br><span class="line">  <span class="attr">header_cover_src:</span> <span class="string">/imgs/post-default-cover.png</span></span><br></pre></td></tr></tbody></table></figure></div><p>原主题有点小问题，文章封面图片的圆角与容器的圆角不匹配。首先在<code>&lt;Blog&gt;\themes\redefine\source\css\common\variables.styl</code>中新增CSS变量<code>var(--redefine-border-radius-small)</code>:</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">root-color</span><span class="params">(mode)</span></span> {</span><br><span class="line">    <span class="attr">--redefine-border-radius-small</span> : <span class="variable">$redefine</span>-<span class="attribute">border-radius</span>-small</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div><p>而这里用到Stylus变量<code>redefine-border-radius-small</code>已在<code>&lt;Blog&gt;\themes\redefine\source\css\common\variables.styl</code>中有定义。需要注意的是，这个CSS变量值需要与<code>&lt;Blog&gt;\themes\redefine\source\css\common\redefine-theme.styl</code>中<code>redefine-container</code>定义的圆角值相同。然后对<code>&lt;Blog&gt;\themes\redefine\source\assets\build\style.css</code>文件进行修改：</p><div class="highlight-container" data-rel="Css"><figure class="iseeu highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.w-full</span> {</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="built_in">var</span>(--redefine-border-radius-small);</span><br><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="built_in">var</span>(--redefine-border-radius-small);  </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">640px</span>) {</span><br><span class="line">  <span class="selector-class">.sm</span>\:rounded-t-large {</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="built_in">var</span>(--redefine-border-radius-small);</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="built_in">var</span>(--redefine-border-radius-small);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div><p>此外，还需要对<code>&lt;Blog&gt;\themes\redefine\source\css\layout\article-content.styl</code>文件进行修改：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-page-container</span></span><br><span class="line">    <span class="selector-class">.article-content-container</span></span><br><span class="line">        +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">-        <span class="attribute">padding</span> <span class="number">1.2rem</span> <span class="number">0.2rem</span></span><br><span class="line">        <span class="attribute">box-shadow</span> none <span class="meta">!important</span></span><br><span class="line">        <span class="attribute">max-width</span> <span class="number">100vw</span>    </span><br></pre></td></tr></tbody></table></figure></div><h3 id="目录栏"><a href="#目录栏" class="headerlink" title="目录栏"></a>目录栏</h3><ol><li>在前面实现正文栏与背景叠加效果时，目录栏的位置也与背景相互叠加了。但目录栏没有背景颜色，因此目录栏文字与背景混叠在了一起。为此，需要给目录栏添加顶部空白。在<code>&lt;Blog&gt;\themes\redefine\source\css\layout\article-content.styl</code>文件中进行修改：<div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-page-container</span></span><br><span class="line">    <span class="selector-class">.toc-content-container</span></span><br><span class="line">        <span class="attribute">padding-top</span> <span class="number">120px</span></span><br><span class="line">        ...</span><br></pre></td></tr></tbody></table></figure></div></li></ol><p>原主题的目录栏标题是<code>此页目录</code>，但我觉得直接取名<code>目录</code>更合适，这只需对<code>&lt;Blog&gt;\themes\redefine\languages\</code>中文件进行修改即可。</p><ol start="2"><li><p>为在<code>目录</code>二字前加上一个<code>Font Awesome</code>图标<code>\f022</code>，可对<code>&lt;Blog&gt;\themes\redefine\layout\_widgets\toc.ejs</code>进行如下修改：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="post-toc-wrap"&gt;</span><br><span class="line">    &lt;div class="post-toc"&gt;</span><br><span class="line">        &lt;div class="toc-title"&gt;&lt;i class="fa-regular fa-rectangle-list"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&lt;%- __('toc') %&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%- toc(</span><br><span class="line">                page.content,</span><br><span class="line">                {</span><br><span class="line">                    class: 'nav',</span><br><span class="line">                    list_number: theme.articles.toc.number,</span><br><span class="line">                    max_depth: theme.articles.toc.max_depth,</span><br><span class="line">                }</span><br><span class="line">        ) %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\toc.styl</code>进行修改，以调整CSS样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-toc-wrap</span></span><br><span class="line">    <span class="selector-class">.post-toc</span></span><br><span class="line">        <span class="selector-class">.toc-title</span></span><br><span class="line">            <span class="attribute">font-size</span> <span class="number">1.2rem</span></span><br><span class="line">            <span class="attribute">color</span> <span class="built_in">var</span>(--default-text-color)</span><br><span class="line">            <span class="attribute">font-weight</span> bold</span><br><span class="line">            <span class="attribute">margin-bottom</span> <span class="number">0.2rem</span>    </span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">ol</span></span><br><span class="line">            <span class="attribute">padding</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">12px</span> <span class="number">35px</span></span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\source\css\layout\article-content.styl</code>进行修改，删除一行，否则目录栏太窄，显示不完全：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-page-container</span></span><br><span class="line">    <span class="selector-class">.toc-content-container</span></span><br><span class="line">-       <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure></div></li></ol><h3 id="信息栏"><a href="#信息栏" class="headerlink" title="信息栏"></a>信息栏</h3><p>原主题的文章信息栏较复杂，这里进行一些精简。</p><ol><li><p>首先对<code>&lt;Blog&gt;\themes\redefine\layout\article-content.ejs</code>文件进行修改：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    ...</span><br><span class="line"></span><br><span class="line">-   &lt;% if (theme.info.author || config.author) { %&gt;</span><br><span class="line">-       &lt;div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"&gt;</span><br><span class="line">-           &lt;div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"&gt;</span><br><span class="line">-               &lt;%- image_tag((typeof page.avatar === "string" &amp;&amp; (page.avatar)) || page.author?.avatar || theme.defaults.avatar) %&gt;</span><br><span class="line">-           &lt;/div&gt;</span><br><span class="line">-           &lt;div class="info flex flex-col justify-between"&gt;</span><br><span class="line">-               &lt;div class="author flex items-center"&gt;</span><br><span class="line">-                   &lt;span class="name text-default-text-color text-lg font-semibold"&gt;&lt;%= (typeof page.author === "string" &amp;&amp; (page.author)) || page.author?.name || theme.info.author || config.author %&gt;&lt;/span&gt;</span><br><span class="line">-                   &lt;% if (theme.hasOwnProperty('articles') &amp;&amp; theme.articles.author_label.enable === true) { %&gt;</span><br><span class="line">-                       &lt;span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1"&gt;&lt;%- getAuthorLabel(site.posts.length, theme.articles.author_label.auto, theme.articles.author_label.list) %&gt;&lt;/span&gt;</span><br><span class="line">-                   &lt;% } %&gt;</span><br><span class="line">-               &lt;/div&gt;</span><br><span class="line">-               &lt;div class="meta-info"&gt;</span><br><span class="line">-                   &lt;%- partial('_meta/article-info', {articleObject: page, index: true}) %&gt;</span><br><span class="line">-               &lt;/div&gt;</span><br><span class="line">-           &lt;/div&gt;</span><br><span class="line">-       &lt;/div&gt;</span><br><span class="line">-&lt;%     } else { %&gt;</span><br><span class="line">        &lt;div class="article-header-meta-info px-2 sm:px-6 md:px-8"&gt;</span><br><span class="line">            &lt;div class="meta-info"&gt;</span><br><span class="line">                &lt;%- partial('_meta/article-info', {articleObject: page, index: true}) %&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">-&lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\layout\_meta\article-info.ejs</code>进行修改，结果如下所示：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="article-meta-info"&gt;</span><br><span class="line">    &lt;% if (articleObject.updated &amp;&amp; articleObject.updated !== articleObject.date) { %&gt;</span><br><span class="line">        &lt;span class="article-date article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-wrench"&gt;&lt;/i&gt;&amp;nbsp;</span><br><span class="line">            &lt;span class="desktop"&gt;&lt;%= __("update_time") %&gt;&lt;%= date(articleObject.updated, `${config.date_format}`) %&gt;&lt;/span&gt;</span><br><span class="line">            &lt;span class="mobile"&gt;&lt;%= __("update_time") %&gt;&lt;%= date(articleObject.updated, `${config.date_format}`) %&gt;&lt;/span&gt;</span><br><span class="line">            &lt;span class="hover-info"&gt;&lt;%= __("update_time") %&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } else { %&gt;</span><br><span class="line">        &lt;span class="article-date article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-pen-fancy"&gt;&lt;/i&gt;&amp;nbsp;</span><br><span class="line">            &lt;span class="desktop"&gt;&lt;%= __("create_time") %&gt;&lt;%= date(articleObject.date, `${config.date_format}`) %&gt;&lt;/span&gt;</span><br><span class="line">            &lt;span class="mobile"&gt;&lt;%= __("create_time") %&gt;&lt;%= date(articleObject.date, `${config.date_format}`) %&gt;&lt;/span&gt;</span><br><span class="line">            &lt;span class="hover-info"&gt;&lt;%= __("create_time") %&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (articleObject.categories.length) { %&gt;</span><br><span class="line">        &lt;span class="article-categories article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-folders"&gt;&lt;/i&gt;&amp;nbsp;&lt;span&gt;&lt;%= __("post_meta_category") %&gt;&lt;/span&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;% let previousParentId = null; %&gt;</span><br><span class="line">                &lt;% articleObject.categories.forEach((category, i) =&gt; { %&gt;</span><br><span class="line">                    &lt;% if (previousParentId !== category.parent) { %&gt;</span><br><span class="line">                        &lt;% if (previousParentId !== null) { %&gt;</span><br><span class="line">                            &lt;li&gt;&gt;&amp;nbsp &lt;/li&gt;</span><br><span class="line">                        &lt;% } %&gt;</span><br><span class="line">                        &lt;li&gt;</span><br><span class="line">                            &lt;a href="&lt;%- url_for(category.path) %&gt;"&gt;&lt;%= category.name %&gt;&lt;/a&gt;&amp;nbsp;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                    &lt;% } else { %&gt;</span><br><span class="line">                        &lt;li&gt;</span><br><span class="line">                            | &lt;a href="&lt;%- url_for(category.path) %&gt;"&gt;&lt;%= category.name %&gt;&lt;/a&gt;&amp;nbsp;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                    &lt;% } %&gt;</span><br><span class="line">                    &lt;% previousParentId = category.parent; %&gt;</span><br><span class="line">                &lt;% }); %&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">    &lt;% if (articleObject.tags.length) { %&gt;</span><br><span class="line">        &lt;span class="article-tags article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-tags"&gt;&lt;/i&gt;&amp;nbsp&lt;%= __("post_meta_tag") %&gt;;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;% articleObject.tags.forEach((tag, i) =&gt; { %&gt;</span><br><span class="line">                    &lt;li&gt;</span><br><span class="line">                        &lt;%= i === 0 ? '' : '| ' %&gt;&lt;a href="&lt;%- url_for(tag.path) %&gt;"&gt;&lt;%= tag.name %&gt;&lt;/a&gt;&amp;nbsp;</span><br><span class="line">                    &lt;/li&gt;</span><br><span class="line">                &lt;% }); %&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%</span><br><span class="line">    let temp_wordcount, temp_min2read = null;</span><br><span class="line">    try {</span><br><span class="line">        temp_wordcount = wordcount(page.content);</span><br><span class="line">        temp_min2read = min2read(page.content);</span><br><span class="line">    } catch (e) {</span><br><span class="line">        temp_wordcount = 0;</span><br><span class="line">        temp_min2read = 0;</span><br><span class="line">    }</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;% if(is_post() &amp;&amp; theme.hasOwnProperty('articles') &amp;&amp; theme.articles.word_count.enable &amp;&amp; theme.articles.word_count.count &amp;&amp; temp_wordcount){ %&gt;</span><br><span class="line">        &lt;span class="article-wordcount article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-typewriter"&gt;&lt;/i&gt;&amp;nbsp;&lt;span&gt;&lt;%= __("post_meta_wordcount") %&gt;&lt;%= temp_wordcount %&gt; &lt;%- __('wordcount') %&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">    &lt;% if(is_post() &amp;&amp; theme.hasOwnProperty('articles') &amp;&amp; theme.articles.word_count.enable &amp;&amp; theme.articles.word_count.min2read &amp;&amp; temp_min2read){ %&gt;</span><br><span class="line">        &lt;span class="article-min2read article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-clock"&gt;&lt;/i&gt;&amp;nbsp;&lt;span&gt;&lt;%= __("post_meta_readmin") %&gt;&lt;%= temp_min2read %&gt; &lt;%- __('min2read') %&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">    &lt;% if (is_post() &amp;&amp; theme.global.website_counter.enable &amp;&amp; theme.global.website_counter.post_pv) { %&gt;</span><br><span class="line">        &lt;span class="article-pv article-meta-item"&gt;</span><br><span class="line">            &lt;i class="fa-regular fa-eye"&gt;&lt;/i&gt;&amp;nbsp;&lt;span&gt;&lt;%= __("post_meta_pv") %&gt;&lt;/span&gt;&lt;span id="busuanzi_value_page_pv"&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div><p>这里使用的类似<code>__("post_meta_pv")</code>的变量，都需要在<code>&lt;Blog&gt;\themes\redefine\languages\</code>中进行补充。</p></li></ol><h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><ol><li><p>若需减小代码块的圆角，首先修改<code>&lt;Blog&gt;\themes\redefine\source\css\common\codeblock\code-block.styl</code>中所有的<code>$redefine-border-radius-large</code>变量替换为<code>&lt;Blog&gt;\themes\redefine\source\css\common\variables.styl</code>中定义的其他圆角变量。然后修改<code>&lt;Blog&gt;\themes\redefine\source\css\common\codeblock\highlight.styl</code>文件，将<code>.highlight</code>类的<code>border-radius</code>属性修改为其他圆角变量。</p></li><li><p>通过以下操作，可以为代码块添加超长代码块自动收缩功能，效果如下图所示：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-post-code-expand.png"></p><ol><li>首先修改<code>&lt;Blog&gt;\themes\redefine\source\js\tools\codeBlock.js</code>文件，添加如下代码：<div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">initCopyCode</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    ...</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">"figure.highlight"</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">element</span>) =&gt;</span> {</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 代码块收缩/展开按钮</span></span><br><span class="line">        <span class="keyword">if</span> ( theme.<span class="property">articles</span>.<span class="property">code_block</span>.<span class="property">height_limit</span> &amp;&amp; element.<span class="property">offsetHeight</span> &gt; theme.<span class="property">articles</span>.<span class="property">code_block</span>.<span class="property">height_limit</span> ) {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 给父元素增加padding-bottom</span></span><br><span class="line">        <span class="keyword">if</span> ( element.<span class="property">parentElement</span> ) {</span><br><span class="line">            element.<span class="property">parentElement</span>.<span class="property">style</span>.<span class="property">paddingBottom</span> = <span class="string">'30px'</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 新增按钮</span></span><br><span class="line">        container.<span class="title function_">insertAdjacentHTML</span>(</span><br><span class="line">            <span class="string">"beforeend"</span>,</span><br><span class="line">            <span class="string">'&lt;div class="expand-button"&gt;&lt;i class="fa-solid fa-angles-down"&gt;&lt;/i&gt;&lt;/div&gt;'</span>,</span><br><span class="line">        ); </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 默认收缩代码块</span></span><br><span class="line">        <span class="keyword">const</span> expandButton = container.<span class="title function_">querySelector</span>(<span class="string">".expand-button"</span>);   </span><br><span class="line">        container.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">"shrink"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 监听函数</span></span><br><span class="line">        expandButton.<span class="title function_">addEventListener</span>(<span class="string">"click"</span>, <span class="function">() =&gt;</span> {</span><br><span class="line">            container.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">"shrink"</span>);</span><br><span class="line">            expandButton.<span class="title function_">querySelector</span>(<span class="string">"i"</span>).<span class="property">className</span> = container.<span class="property">classList</span>.<span class="title function_">contains</span>(</span><br><span class="line">            <span class="string">"shrink"</span>,</span><br><span class="line">            )</span><br><span class="line">            ? <span class="string">"fa-solid fa-angles-down"</span></span><br><span class="line">            : <span class="string">"fa-solid fa-angles-up"</span>;</span><br><span class="line">        });      </span><br><span class="line">        };</span><br><span class="line">    };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure></div></li><li>对<code>&lt;Blog&gt;\themes\redefine\source\css\common\codeblock\code-block.styl</code>进行修改：<div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.expand-button</span></span><br><span class="line">    <span class="attribute">cursor</span> pointer</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-small-bottom</span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">font-weight</span> bold</span><br><span class="line">    <span class="attribute">line-height</span> <span class="number">1.8</span></span><br><span class="line">    <span class="attribute">outline</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">vertical-align</span> middle</span><br><span class="line">    <span class="attribute">white-space</span> nowrap</span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">1rem</span></span><br><span class="line">    <span class="attribute">color</span> <span class="built_in">var</span>(--default-text-color)</span><br><span class="line">    <span class="built_in">disable-user-select</span>()</span><br><span class="line">    <span class="attribute">transition</span><span class="built_in">-t</span>(<span class="string">'opacity'</span>, <span class="string">'0'</span>, <span class="string">'0.2'</span>, <span class="string">'ease-in-out'</span>)</span><br><span class="line">    <span class="attribute">background</span> <span class="built_in">var</span>(--second-background-color)</span><br><span class="line">    <span class="attribute">border</span> <span class="number">0</span> </span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">text-align</span> center   </span><br><span class="line">    <span class="selector-tag">i</span> </span><br><span class="line">        <span class="attribute">animation</span> code-expand-button <span class="number">1.2s</span> infinite</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">hexo-config</span>(<span class="string">'articles.code_block.style'</span>) == <span class="string">'mac'</span>)</span><br><span class="line">    <span class="selector-class">.highlight-container</span><span class="selector-attr">[data-rel]</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="selector-class">.folded</span></span><br><span class="line">            <span class="attribute">padding-bottom</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">            <span class="selector-tag">figure</span></span><br><span class="line">                <span class="attribute">height</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">                <span class="attribute">width</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">                <span class="attribute">overflow</span> hidden <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">            <span class="selector-class">.expand-button</span></span><br><span class="line">                <span class="attribute">display</span> none </span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.shrink</span></span><br><span class="line">            <span class="selector-tag">figure</span> </span><br><span class="line">                <span class="attribute">height</span> <span class="built_in">unit</span>(<span class="built_in">hexo-config</span>(<span class="string">'articles.code_block.height_limit'</span>)+<span class="number">10</span>, px)</span><br><span class="line">                <span class="attribute">overflow</span> hidden                </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="selector-class">.highlight-container</span><span class="selector-attr">[data-rel]</span></span><br><span class="line"></span><br><span class="line">        ...</span><br><span class="line">        <span class="selector-class">.folded</span></span><br><span class="line">            <span class="attribute">padding-bottom</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">            <span class="selector-tag">figure</span></span><br><span class="line">                <span class="attribute">height</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">                <span class="attribute">width</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">                <span class="attribute">overflow</span> hidden <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">            <span class="selector-class">.expand-button</span></span><br><span class="line">                <span class="attribute">display</span> none </span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.shrink</span></span><br><span class="line">            <span class="selector-tag">figure</span> </span><br><span class="line">                <span class="attribute">height</span> <span class="built_in">unit</span>(<span class="built_in">hexo-config</span>(<span class="string">'articles.code_block.height_limit'</span>)+<span class="number">10</span>, px)</span><br><span class="line">                <span class="attribute">overflow</span> hidden </span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> code-expand-<span class="selector-tag">button</span></span><br><span class="line">    <span class="number">0%</span></span><br><span class="line">        <span class="attribute">opacity</span>: .<span class="number">6</span></span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span></span><br><span class="line">        <span class="attribute">opacity</span>: .<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span></span><br><span class="line">        <span class="attribute">opacity</span>: .<span class="number">6</span></span><br><span class="line">            </span><br></pre></td></tr></tbody></table></figure></div>这里用到了<code>theme.articles.code_block.height_limit</code>这个变量，只有代码块的长度大于该值时，代码块才会被收缩。该变量需要在<code>_config.redefine.yml</code>中进行定义。</li></ol></li></ol><h3 id="标题栏"><a href="#标题栏" class="headerlink" title="标题栏"></a>标题栏</h3><p>对<code>&lt;Blog&gt;\themes\redefine\source\css\layout\article-content.styl</code>文件进行修改，可以在标题栏前面加一个图标：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">.post-page-container</span><br><span class="line">  .article-content-container</span><br><span class="line">    .article-content</span><br><span class="line">      margin-top $spacing-unit</span><br><span class="line">      padding-bottom 10px</span><br><span class="line">      padding-left 16px</span><br><span class="line">      padding-right 16px</span><br><span class="line">      word-wrap break-word</span><br><span class="line">      border-bottom 1px solid var(--border-color)</span><br><span class="line">      color var(--default-text-color)</span><br><span class="line"></span><br><span class="line">      &amp;&gt;:first-child</span><br><span class="line">        margin-top 0 !important</span><br><span class="line"></span><br><span class="line">      h2</span><br><span class="line">        display flex </span><br><span class="line">        align-items center</span><br><span class="line">        &amp;::before</span><br><span class="line">          content hexo-config('articles.title_icon.item')</span><br><span class="line">          font-family 'Font Awesome 6 Pro'</span><br><span class="line">          font-size 2rem</span><br><span class="line">          font-weight 700</span><br><span class="line">          transform rotate(hexo-config('articles.title_icon.rotate')deg)</span><br><span class="line">          margin-right 0.5rem</span><br><span class="line"></span><br><span class="line">      h3</span><br><span class="line">        display flex </span><br><span class="line">        align-items center      </span><br><span class="line">        &amp;::before</span><br><span class="line">          content hexo-config('articles.title_icon.item')</span><br><span class="line">          font-family 'Font Awesome 6 Pro'</span><br><span class="line">          font-size 1.6rem</span><br><span class="line">          font-weight 700</span><br><span class="line">          transform rotate(hexo-config('articles.title_icon.rotate')deg)</span><br><span class="line">          margin-right 0.75rem</span><br><span class="line"></span><br><span class="line">      h4</span><br><span class="line">        display flex </span><br><span class="line">        align-items center      </span><br><span class="line">        &amp;::before</span><br><span class="line">          content hexo-config('articles.title_icon.item')</span><br><span class="line">          font-family 'Font Awesome 6 Pro'</span><br><span class="line">          font-size 1.4rem</span><br><span class="line">          font-weight 700</span><br><span class="line">          transform rotate(hexo-config('articles.title_icon.rotate')deg)</span><br><span class="line">          margin-right 0.85rem</span><br><span class="line">          </span><br><span class="line">      h5</span><br><span class="line">        display flex </span><br><span class="line">        align-items center      </span><br><span class="line">        &amp;::before</span><br><span class="line">          content hexo-config('articles.title_icon.item')</span><br><span class="line">          font-family 'Font Awesome 6 Pro'</span><br><span class="line">          font-size 1.1rem</span><br><span class="line">          font-weight 700</span><br><span class="line">          transform rotate(hexo-config('articles.title_icon.rotate')deg)</span><br><span class="line">          margin-right 1.08rem          </span><br><span class="line"></span><br><span class="line">      h6</span><br><span class="line">        display flex </span><br><span class="line">        align-items center      </span><br><span class="line">        &amp;::before</span><br><span class="line">          content hexo-config('articles.title_icon.item')</span><br><span class="line">          font-family 'Font Awesome 6 Pro'</span><br><span class="line">          font-size 1rem</span><br><span class="line">          font-weight 700</span><br><span class="line">          transform rotate(hexo-config('articles.title_icon.rotate')deg)</span><br><span class="line">          margin-right 1.2rem</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div><h3 id="版权栏"><a href="#版权栏" class="headerlink" title="版权栏"></a>版权栏</h3><p>版权栏修改后样式如下图所示：<br><img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-post-copyright.png"><br>对<code>&lt;Blog&gt;\themes\redefine\layout\_meta\article-copyright.ejs</code>进行修改：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="article-copyright-info-container"&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;&lt;i class="fa-solid fa-bookmark" style="margin: 0 9px 0 6px"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.title') %&gt;&lt;/strong&gt; &lt;%= page.title %&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;i class="fa-solid fa-user" style="margin: 0 8px 0 4px"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.author') %&gt;&lt;/strong&gt; &lt;%=(typeof page.author === "string" &amp;&amp; (page.author)) || page.author?.name || theme.info.author || config.author %&gt;&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;i class="fa-solid fa-link" style="margin: 0 7px 0 0"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.link') %&gt;&lt;/strong&gt; &lt;%= getPostUrl((theme.info.url || config.url), page.path) %&gt;&lt;/li&gt;        </span><br><span class="line">        &lt;li&gt;&lt;i class="fa-solid fa-pen-fancy" style="margin: 0 7px 0 3px"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.create_time') %&gt;&lt;/strong&gt; &lt;%= date(page.date, `${config.date_format}`) %&gt;&lt;/li&gt;</span><br><span class="line">        &lt;% if (page.updated &amp;&amp; page.updated !== page.date) { %&gt;</span><br><span class="line">            &lt;li&gt;&lt;i class="fa-solid fa-wrench" style="margin: 0 7px 0 3px"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.update_time') %&gt;&lt;/strong&gt; &lt;%= date(page.updated, `${config.date_format}`) %&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">        &lt;li&gt;</span><br><span class="line">            &lt;i class="fa-solid fa-copyright" style="margin: 0 10px 0 1px"&gt;&lt;/i&gt;&lt;strong&gt;&lt;%- __('copyright.license_title') %&gt;&lt;/strong&gt;</span><br><span class="line">            &lt;%</span><br><span class="line">            const licenseMap = {</span><br><span class="line">                'all_rights_reserved': {</span><br><span class="line">                    label: __('copyright.all_rights_reserved', theme.info.author),</span><br><span class="line">                    url: null</span><br><span class="line">                },</span><br><span class="line">                'cc_by': {</span><br><span class="line">                    label: __('copyright.license_content', '&lt;a class="license" href="https://creativecommons.org/licenses/by/4.0"&gt;CC BY 4.0&lt;/a&gt;'),</span><br><span class="line">                    url: 'https://creativecommons.org/licenses/by/4.0'</span><br><span class="line">                },</span><br><span class="line">                'cc_by_sa': {</span><br><span class="line">                    label: __('copyright.license_content', '&lt;a class="license" href="https://creativecommons.org/licenses/by-sa/4.0"&gt;CC BY-SA 4.0&lt;/a&gt;'),</span><br><span class="line">                    url: 'https://creativecommons.org/licenses/by-sa/4.0'</span><br><span class="line">                },</span><br><span class="line">                'cc_by_nc': {</span><br><span class="line">                    label: __('copyright.license_content', '&lt;a class="license" href="https://creativecommons.org/licenses/by-nc/4.0"&gt;CC BY-NC 4.0&lt;/a&gt;'),</span><br><span class="line">                    url: 'https://creativecommons.org/licenses/by-nc/4.0'</span><br><span class="line">                },</span><br><span class="line">                'cc_by_nd': {</span><br><span class="line">                    label: __('copyright.license_content', '&lt;a class="license" href="https://creativecommons.org/licenses/by-nd/4.0"&gt;CC BY-ND 4.0&lt;/a&gt;'),</span><br><span class="line">                    url: 'https://creativecommons.org/licenses/by-nd/4.0'</span><br><span class="line">                },</span><br><span class="line">                'cc_by_nc_sa': {</span><br><span class="line">                    label: __('copyright.license_content', '&lt;a class="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0"&gt;CC BY-NC-SA 4.0&lt;/a&gt;'),</span><br><span class="line">                    url: 'https://creativecommons.org/licenses/by-nc-sa/4.0'</span><br><span class="line">                },</span><br><span class="line">                'public_domain': {</span><br><span class="line">                    label: __('copyright.public_domain'),</span><br><span class="line">                    url: null</span><br><span class="line">                }</span><br><span class="line">            };</span><br><span class="line"></span><br><span class="line">            let licenseType = 'cc_by_nc_sa'; // Default license type</span><br><span class="line">            if (page.copyright &amp;&amp; page.copyright !== "") {</span><br><span class="line">                licenseType = 'custom';</span><br><span class="line">            } else if (page.license &amp;&amp; licenseMap[page.license]) {</span><br><span class="line">                licenseType = page.license;</span><br><span class="line">            } else if (theme.articles.copyright.default &amp;&amp; licenseMap[theme.articles.copyright.default]) {</span><br><span class="line">                licenseType = theme.articles.copyright.default;</span><br><span class="line">            }</span><br><span class="line">            %&gt;</span><br><span class="line"></span><br><span class="line">            &lt;% if (licenseType === 'custom') { %&gt;</span><br><span class="line">                &lt;%- page.copyright %&gt;</span><br><span class="line">            &lt;% } else { %&gt;</span><br><span class="line">                &lt;%- licenseMap[licenseType].label %&gt;</span><br><span class="line">            &lt;% } %&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div><h2 id="页脚样式"><a href="#页脚样式" class="headerlink" title="页脚样式"></a>页脚样式</h2><ol><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\_partials\footer.ejs</code>为：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"&gt;</span><br><span class="line">    &lt;div class="info-container py-3 text-center"&gt;</span><br><span class="line">        &lt;div id="footer-info"&gt;</span><br><span class="line">            &lt;img style="height:15px;" src="&lt;%= theme.defaults.favicon %&gt;"&gt;&amp;nbsp;&lt;a href="&lt;%= config.root %&gt;"&gt;&lt;%= theme.info.title || config.title %&gt;&amp;nbsp;&amp;nbsp;&lt;/a&gt;&lt;i class="fa-regular fa-copyright"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&lt;span&gt;&lt;%= theme.info.author || config.author %&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div id="footer-ghbadges"&gt;</span><br><span class="line">            &lt;a class="github-badge" target="_blank" href="https://hexo.io/zh-cn/"&gt;&lt;img alt="Static Badge" src="https://img.shields.io/badge/框架-Hexo-blue?style=flat&amp;logo=Hexo"&gt;&lt;/a&gt;</span><br><span class="line">            &lt;a class="github-badge" target="_blank" href="https://redefine-docs.ohevan.com/"&gt;&lt;img alt="Static Badge" src="https://img.shields.io/badge/%E4%B8%BB%E9%A2%98-Redefine-red?style=flat&amp;logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI0MDBweCIgaGVpZ2h0PSI0MDBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI%2BPHRpdGxlPmxvZ288L3RpdGxlPjxkZWZzPjxwYXRoIGQ9Ik0xNjguNDEwNTU3LDAgQzIzNy4yMTk0MDYsMCAyOTMsNTYuMTg4MjYzOSAyOTMsMTI1LjUgQzI5MywxOTQuODExNzM2IDIzNy4yMTk0MDYsMjUxIDE2OC40MTA1NTcsMjUxIEwxNjguNDEsMTcxLjM2OSBMMTY4Ljc0MTEyMywxNzEuMzY2MjEgQzE5My43Nzg1OTUsMTcwLjk1NzI5OSAyMTMuOTUwMTQ3LDE1MC4zODUxNDYgMjEzLjk1MDE0NywxMjUuMDY3MjQxIEMyMTMuOTUwMTQ3LDk5LjYzODEwMzYgMTkzLjYwMDk2LDc4Ljk5NjUwODkgMTY4LjQxMDgzOCw3OC43NjQwNTE4IEwwLDc4Ljc2MjA2OSBMMCwwIFoiIGlkPSJwYXRoLTEiPjwvcGF0aD48L2RlZnM%2BPGcgaWQ9ImxvZ28tTUlUIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBpZD0iTG9nbyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAuMDAwMDAwLCA1Mi4wMDAwMDApIj48cG9seWdvbiBpZD0i5bem5LiL6KeSIiBmaWxsPSIjQTMxRjM0IiBwb2ludHM9Ii0xLjQ2ODk2Mzg0ZS0xNCAxODIgMTE2IDI5NSAwIDI5NSI%2BPC9wb2x5Z29uPjxwb2x5Z29uIGlkPSLmoq%2FlvaIiIGZpbGw9IiNDOUM4QzciIHBvaW50cz0iLTEuMzU2MTIwMDhlLTE0IDMuOTY2MDExNTVlLTE1IDI5NSAyOTUgMTg4Ljc4Mjc5OSAyOTUgLTEuMzU2MTIwMDhlLTE0IDEwNy4wNjgyNTUiPjwvcG9seWdvbj48bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI%2BPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT48L21hc2s%2BPHVzZSBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiNDOUM4QzciIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPjxwb2x5Z29uIGlkPSLpmLTlvbEiIGZpbGw9IiM4QThCOEMiIG1hc2s9InVybCgjbWFzay0yKSIgcG9pbnRzPSIwIDAgMTA3LjkzNzMxOCAzLjk2NjAxMTU1ZS0xNSAyOTUgMTgzLjQyNDgzOSAyOTUgMjk1Ij48L3BvbHlnb24%2BPC9nPjwvZz48L3N2Zz4%3D"&gt;&lt;/a&gt;</span><br><span class="line">            &lt;a class="github-badge" target="_blank" href="https://vercel.com/"&gt;&lt;img alt="Static Badge" src="https://img.shields.io/badge/%E9%83%A8%E7%BD%B2-Vercel-brightgreen?style=flat&amp;logo=vercel"&gt;&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        &lt;% if (theme.inject.enable === true) { %&gt;</span><br><span class="line">            &lt;% for (let i in theme.inject.footer) { %&gt;</span><br><span class="line">                &lt;% if (theme.inject.footer[i] !== null ){ %&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;% if (theme.global.single_page === true) { %&gt;</span><br><span class="line">                        &lt;%- theme.inject.footer[i].replace("&lt;script", "&lt;script data-swup-reload-script") %&gt;</span><br><span class="line">                    &lt;% } else { %&gt;</span><br><span class="line">                        &lt;%- theme.inject.footer[i] %&gt;</span><br><span class="line">                &lt;% } } %&gt;</span><br><span class="line">        &lt;% } }%&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;/div&gt;  </span><br><span class="line">&lt;/footer&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\footer.styl</code>中添加以下样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer</span></span><br><span class="line">  <span class="selector-class">.info-container</span></span><br><span class="line">    <span class="attribute">display</span> flex  </span><br><span class="line">    <span class="attribute">flex-direction</span> column</span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#footer-info</span></span><br><span class="line">      <span class="attribute">display</span> flex </span><br><span class="line">      <span class="attribute">flex-direction</span> row</span><br><span class="line">      <span class="attribute">align-items</span> center</span><br><span class="line">      <span class="attribute">justify-content</span> center</span><br><span class="line">      <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#footer-ghbadges</span></span><br><span class="line">      <span class="attribute">display</span> flex </span><br><span class="line">      <span class="attribute">justify-content</span> center</span><br><span class="line">      <span class="attribute">flex-direction</span> row</span><br><span class="line">      <span class="attribute">align-items</span> center</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">a</span></span><br><span class="line">        <span class="attribute">margin-inline</span> <span class="number">8px</span></span><br><span class="line">        <span class="selector-pseudo">:hover</span> {</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>); <span class="comment">/* 放大按钮 */</span>  </span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>这里使用到了<a class="link" target="_blank" rel="noopener" href="https://github.com/badges/shields/tree/master">Github Badge <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>来生成Github式徽章，详情见<a class="link" target="_blank" rel="noopener" href="https://shields.io/">Shields.io <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。最终的页脚效果如下图所示：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-footer.png"></p></li></ol><h2 id="归档页"><a href="#归档页" class="headerlink" title="归档页"></a>归档页</h2><ol><li><p>这个页面的设计参考了<a class="link" target="_blank" rel="noopener" href="https://fluid-dev.github.io/hexo-fluid-docs/start/">fluid <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。首先修改<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>文件，为页面增加页首背景图：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial('_widgets/progress-bar') %&gt;</span><br><span class="line">&lt;% if (theme.global.preloader) { %&gt;</span><br><span class="line">    &lt;%- partial('_partials/preloader') %&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;main class="page-container" id="swup"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-banner') %&gt;</span><br><span class="line">    &lt;% } else if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; page.prev &amp;&amp; theme.home_banner.style === "fixed") { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-background') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if( is_post() || is_archive() ) { %&gt;</span><br><span class="line">        &lt;% if (theme.post_banner.bg_img_api) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_img_api %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;% } else if (theme.post_banner.bg_default_img) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_default_img %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%  } else { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src='/imgs/home-banner-img.jpg'&gt; &lt;/div&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\archive-content.ejs</code>如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="archive-container"&gt;</span><br><span class="line">+   &lt;%- partial('_partials/headerCover', {articleObject: page}) %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%- partial('_widgets/archive-list', {posts_new: site.posts}) %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class="home-paginator px-7 py-5"&gt;</span><br><span class="line">    &lt;%- partial('_widgets/paginator', {pageObject: page}) %&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\_widgets\archive-list.ejs</code>如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="list-group"&gt;</span><br><span class="line">    &lt;p class="h4"&gt;&lt;%= __('archivePage.post_total', posts_new.length) %&gt;&lt;/p&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;% var dateCursor %&gt;</span><br><span class="line">    &lt;% page.posts.each(function (post) { %&gt;</span><br><span class="line">      &lt;% if(date(post.date, "YYYY") !== dateCursor) { %&gt;</span><br><span class="line">        &lt;% dateCursor = date(post.date, "YYYY") %&gt;</span><br><span class="line">        &lt;p class="h5"&gt;&lt;%= dateCursor %&gt;&lt;/p&gt;</span><br><span class="line">      &lt;% } %&gt;</span><br><span class="line">      &lt;a href="&lt;%= url_for(post.path) %&gt;" class="list-group-item list-group-item-action"&gt;</span><br><span class="line">        &lt;time&gt;&lt;%= date(post.date, "MM-DD") %&gt;&lt;/time&gt;</span><br><span class="line">        &lt;div class="list-group-item-title"&gt;&lt;%= post.title %&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    &lt;% }) %&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在<code>&lt;Blog&gt;\themes\redefine\source\css\common\redefine-theme.styl</code>中增加一个样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">redefine-banner</span><span class="params">()</span></span></span><br><span class="line">  <span class="attribute">margin-top</span> -<span class="number">180px</span></span><br><span class="line">  <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">15px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.24</span>), <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>)</span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">12px</span> <span class="number">15px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.24</span>), <span class="number">0</span> <span class="number">17px</span> <span class="number">50px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.19</span>)</span><br><span class="line"></span><br><span class="line">  +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">    <span class="attribute">margin-top</span> -<span class="number">120px</span></span><br></pre></td></tr></tbody></table></figure></div><p>这个<code>redefine-banner()</code>在后面会频繁用到，所以在这里统一定义。</p></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\archive-content.styl</code>如下：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.archive-container</span></span><br><span class="line">  <span class="built_in">redefine-container</span>(</span><br><span class="line">    false,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">30px</span></span><br><span class="line">  )  </span><br><span class="line">  <span class="built_in">redefine-banner</span>()</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\archive-list.styl</code>如下：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$archive</span>-year-count-<span class="attribute">font-size</span> = <span class="number">1.4rem</span></span><br><span class="line"><span class="variable">$archive</span>-year-<span class="attribute">font-size</span> = <span class="number">1.2rem</span></span><br><span class="line"><span class="variable">$article</span>-title-<span class="attribute">font-size</span> = <span class="number">0.95rem</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">'../../common/variables'</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-group</span> </span><br><span class="line">  <span class="attribute">padding</span> <span class="number">50px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span></span><br><span class="line">  <span class="attribute">display</span> flex </span><br><span class="line">  <span class="attribute">flex-direction</span> column</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span><span class="selector-class">.h4</span> </span><br><span class="line">    <span class="attribute">font-size</span> <span class="variable">$archive</span>-year-count-font-size</span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line">    <span class="attribute">line-height</span> <span class="number">1.2</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> .<span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span><span class="selector-class">.h5</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="variable">$archive</span>-year-font-size</span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line">    <span class="attribute">line-height</span> <span class="number">1.2</span></span><br><span class="line">    <span class="attribute">margin-top</span> <span class="number">1.5rem</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="number">1rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-group-item</span></span><br><span class="line">  <span class="attribute">font-size</span> <span class="variable">$article</span>-title-font-size</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">400</span></span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">1.5</span></span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  <span class="attribute">background-color</span> transparent</span><br><span class="line">  <span class="attribute">border</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">overflow-wrap</span> break-word</span><br><span class="line">  <span class="attribute">padding</span> <span class="number">12px</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">time</span></span><br><span class="line">    <span class="attribute">flex</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5rem</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.list-group-item-title</span></span><br><span class="line">    <span class="attribute">white-space</span> nowrap</span><br><span class="line">    <span class="attribute">overflow</span> hidden</span><br><span class="line">    <span class="attribute">text-overflow</span> ellipsis</span><br><span class="line"></span><br><span class="line">  <span class="built_in">redefine-mobile</span>()</span><br><span class="line">    <span class="selector-class">.list-group-item</span></span><br><span class="line">      <span class="attribute">font-size</span> .<span class="number">95rem</span></span><br><span class="line">      <span class="attribute">padding</span> <span class="number">0.5rem</span> <span class="number">0.75rem</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">time</span></span><br><span class="line">        <span class="attribute">flex</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-group-item-action</span></span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--third-text-color)</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">&amp;:focus</span>, <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">    <span class="attribute">background-color</span> <span class="built_in">var</span>(--background-color-transparent)</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-small</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改后效果如下图：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-archive.png"></p></li><li><p>归档页的分页设置在<code>_config.yml</code>中：</p><div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br></pre></td></tr></tbody></table></figure></div></li></ol><h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><ol><li><p>首先修改<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>文件，为页面增加页首背景图：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial('_widgets/progress-bar') %&gt;</span><br><span class="line">&lt;% if (theme.global.preloader) { %&gt;</span><br><span class="line">    &lt;%- partial('_partials/preloader') %&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;main class="page-container" id="swup"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-banner') %&gt;</span><br><span class="line">    &lt;% } else if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; page.prev &amp;&amp; theme.home_banner.style === "fixed") { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-background') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if( is_post() || is_archive() || is_category() || page.title === 'category' || page.title === 'categories' ) { %&gt;</span><br><span class="line">        &lt;% if (theme.post_banner.bg_img_api) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_img_api %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;% } else if (theme.post_banner.bg_default_img) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_default_img %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%  } else { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src='/imgs/home-banner-img.jpg'&gt; &lt;/div&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\category-list.ejs</code>文件如下，为页面增加一个封面：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">+ &lt;%- partial('_partials/headerCover', {articleObject: page}) %&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class="category-list-container"&gt;</span><br><span class="line">	&lt;div &gt;</span><br><span class="line">		&lt;h1 class="category-header"&gt;</span><br><span class="line">			&lt;%- __('categories') %&gt;</span><br><span class="line">		&lt;/h1&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;div class="category-list-content"&gt;</span><br><span class="line">		&lt;%- list_categories(site.categories, { class: 'all-category', depth: 5,</span><br><span class="line">		style: 'list', }) %&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;div class="category-comments"&gt;</span><br><span class="line">		&lt;% if (page.comment) { %&gt; &lt;%- partial('_partials/comments/comment') %&gt;</span><br><span class="line">		&lt;% } %&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\category-list.styl</code>文件，调整页面样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.category-list-container</span></span><br><span class="line">  <span class="built_in">redefine-container</span>(</span><br><span class="line">    false,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">-    <span class="number">30px</span>,</span><br><span class="line">+    <span class="number">0</span>,</span><br><span class="line">    <span class="number">60px</span></span><br><span class="line">  )</span><br><span class="line">+  <span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.category-list-content</span></span><br><span class="line">+    <span class="attribute">padding</span> <span class="number">60px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">        &amp;&gt;<span class="selector-class">.all-category-list-item</span> <span class="comment">// first level</span></span><br><span class="line">-            <span class="attribute">font-size</span> <span class="number">1.5rem</span>        </span><br><span class="line">+            <span class="attribute">font-size</span> <span class="number">1.3rem</span></span><br><span class="line">-            <span class="attribute">padding</span> <span class="number">28px</span></span><br><span class="line">+            <span class="attribute">padding</span> <span class="number">16px</span></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>按照如下方式修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\category-list.styl</code>文件，可以将各类别下的文章数目以上标形式显示：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.category-list-container</span><br><span class="line">    .category-list-content</span><br><span class="line">        .all-category-list</span><br><span class="line">            &amp;&gt;.all-category-list-item // first level</span><br><span class="line">                span.all-category-list-count</span><br><span class="line">+                    vertical-align super</span><br><span class="line">+                    font-size medium</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>渲染结果如下图所示：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-category.png"></p></li><li><p>当点击某个类别时，将进入分类页面，对应的<code>EJS</code>模板文件为<code>&lt;Blog&gt;\themes\redefine\layout\category-content.ejs</code>。修改为如下内容：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="category-container"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="archive-title relative w-full"&gt;</span><br><span class="line">		&lt;% let articleCover = theme.articles.header_cover_src; %&gt;</span><br><span class="line">		&lt;img src="&lt;%= url_for(articleCover) %&gt;" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/&gt;</span><br><span class="line">	</span><br><span class="line">		&lt;div class="w-full flex items-center absolute bottom-0 justify-start"&gt;</span><br><span class="line">			&lt;h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color "&gt;&lt;i class="fa-solid fa-folder"&gt;&lt;/i&gt;&amp;nbsp;&lt;%= page.category %&gt;&lt;/h1&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="category-post-list"&gt;</span><br><span class="line">        &lt;%- partial('_widgets/archive-list', {posts_new: page.posts}) %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class="category-paginator"&gt;</span><br><span class="line">    &lt;%- partial('_widgets/paginator', {pageObject: page}) %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>对<code>&lt;Blog&gt;\themes\redefine\source\css\layout\category-content.styl</code>进行修改，以增加封面：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">'../common/variables'</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$category</span>-name-<span class="attribute">font-size</span> = <span class="number">2.8rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.category-container</span></span><br><span class="line">  <span class="built_in">redefine-container</span>(</span><br><span class="line">    false,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0px</span>,</span><br><span class="line">    <span class="number">30px</span></span><br><span class="line">  )</span><br><span class="line">  <span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.category-name</span></span><br><span class="line">    <span class="attribute">color</span> <span class="built_in">var</span>(--second-text-color)</span><br><span class="line">    <span class="attribute">font-size</span> <span class="variable">$category</span>-name-font-size</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">i</span></span><br><span class="line">      <span class="attribute">color</span> <span class="built_in">var</span>(--second-text-color)</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="variable">$category</span>-name-font-size * <span class="number">0.9</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="variable">$category</span>-name-font-size * <span class="number">0.8</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">600</span></span><br><span class="line">    <span class="attribute">padding-bottom</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="variable">$spacing</span>-unit</span><br><span class="line">    <span class="attribute">border-bottom</span> <span class="number">1px</span> solid <span class="built_in">var</span>(--shadow-color-<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li></ol><h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><ol><li><p>首先修改<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>文件，为页面增加页首背景图：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial('_widgets/progress-bar') %&gt;</span><br><span class="line">&lt;% if (theme.global.preloader) { %&gt;</span><br><span class="line">    &lt;%- partial('_partials/preloader') %&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;main class="page-container" id="swup"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-banner') %&gt;</span><br><span class="line">    &lt;% } else if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; page.prev &amp;&amp; theme.home_banner.style === "fixed") { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-background') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if( is_post() || is_archive() || is_category() || is_tag() || page.title === 'category' || page.title === 'categories' || page.title === 'tag' || page.title === 'tags' ) { %&gt;</span><br><span class="line">        &lt;% if (theme.post_banner.bg_img_api) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_img_api %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;% } else if (theme.post_banner.bg_default_img) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_default_img %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%  } else { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src='/imgs/home-banner-img.jpg'&gt; &lt;/div&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\_widgets\tagcloud.ejs</code>文件，增加页首封面：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (site.tags.length){ %&gt;</span><br><span class="line">&lt;div class="tagcloud-container"&gt;</span><br><span class="line"></span><br><span class="line">+	&lt;%- partial('_partials/headerCover', {articleObject: page}) %&gt;</span><br><span class="line"></span><br><span class="line">	&lt;% if (theme.page_templates.tags_style == 'cloud') { %&gt;</span><br><span class="line">	&lt;div class="tagcloud-content"&gt;</span><br><span class="line">		&lt;%- tagcloud({ min_font: 1, max_font: 5, unit: 'rem', amount: 100 }) %&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	&lt;% } else {%&gt;</span><br><span class="line">	&lt;div class="tagcloud-content"&gt;</span><br><span class="line">		&lt;ul class="tag-list" data-show-value="true"&gt;</span><br><span class="line">			&lt;% site.tags.forEach(function(tag){ %&gt;</span><br><span class="line">				&lt;li&gt;</span><br><span class="line">					&lt;a data-weight="&lt;%- tag.posts.length %&gt;" href="&lt;%- url_for("/" + tag.path) %&gt;"&gt;</span><br><span class="line">						&lt;i class="fa-solid fa-hashtag"&gt;&lt;/i&gt;&lt;%- tag.name %&gt;</span><br><span class="line">					&lt;/a&gt;</span><br><span class="line">				&lt;/li&gt;</span><br><span class="line">			&lt;% }) %&gt;</span><br><span class="line">		&lt;/ul&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;% } %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\tagcloud.styl</code>文件，调整样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">hexo-config</span>(<span class="string">'page_templates.tags_style'</span>) == <span class="string">'cloud'</span>)</span><br><span class="line">  <span class="selector-class">.tagcloud-container</span></span><br><span class="line">    <span class="built_in">redefine-container</span>(</span><br><span class="line">      false,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">-      <span class="number">30px</span>,</span><br><span class="line">+      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    )</span><br><span class="line">+    <span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tagcloud-content</span></span><br><span class="line">+    <span class="attribute">padding</span> <span class="number">60px</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="selector-class">.tagcloud-container</span></span><br><span class="line">    <span class="built_in">redefine-container</span>(</span><br><span class="line">      false,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">-      <span class="number">30px</span>,      </span><br><span class="line">+      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    )</span><br><span class="line">+    <span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tagcloud-content</span></span><br><span class="line">+    <span class="attribute">padding</span> <span class="number">60px</span> <span class="number">30px</span></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight=<span class="string">'1'</span>]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0.8px</span></span><br><span class="line"></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight=<span class="string">'2'</span>]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0.6px</span></span><br><span class="line"></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight=<span class="string">'3'</span>]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0.4px</span></span><br><span class="line"></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight=<span class="string">'4'</span>]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0.2px</span></span><br><span class="line"></span><br><span class="line">            &amp;<span class="selector-attr">[data-weight=<span class="string">'5'</span>]</span></span><br><span class="line">              <span class="attr">--blur</span> <span class="number">0</span>            </span><br></pre></td></tr></tbody></table></figure></div></li><li><p>最终的渲染效果如下图所示：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-tag.png"></p></li><li><p>当点击某个类别时，将进入标签页面，对应的<code>EJS</code>模板文件为<code>&lt;Blog&gt;\themes\redefine\layout\tag-content.ejs</code>。修改为如下内容：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="tag-container"&gt;</span><br><span class="line"></span><br><span class="line">	&lt;div class="archive-title relative w-full"&gt;</span><br><span class="line">		&lt;% let articleCover = theme.articles.header_cover_src; %&gt;</span><br><span class="line">		&lt;img src="&lt;%= url_for(articleCover) %&gt;" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/&gt;</span><br><span class="line">	</span><br><span class="line">		&lt;div class="w-full flex items-center absolute bottom-0 justify-start"&gt;</span><br><span class="line">			&lt;h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color "&gt;&lt;i class="fa-solid fa-tag"&gt;&lt;/i&gt;&amp;nbsp;&lt;%= page.tag %&gt;&lt;/h1&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	&lt;div class="tag-post-list"&gt;</span><br><span class="line">		&lt;%- partial('_widgets/archive-list', {posts_new: page.posts}) %&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class="tag-paginator"&gt;</span><br><span class="line">	&lt;%- partial('_widgets/paginator', {pageObject: page}) %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>同时修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\tag-content.styl</code>文件如下，以相应调整样式：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">'../common/variables'</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$tag</span>-name-<span class="attribute">font-size</span> = <span class="number">3rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tag-container</span></span><br><span class="line">  <span class="built_in">redefine-container</span>(</span><br><span class="line">    false,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">0</span>,</span><br><span class="line">    <span class="number">30px</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.tag-name</span></span><br><span class="line">    <span class="attribute">color</span> <span class="built_in">var</span>(--second-text-color)</span><br><span class="line">    <span class="attribute">font-size</span> <span class="variable">$tag</span>-name-font-size</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">i</span></span><br><span class="line">      <span class="attribute">color</span> <span class="built_in">var</span>(--second-text-color)</span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-tablet</span>()</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="variable">$tag</span>-name-font-size * <span class="number">0.9</span></span><br><span class="line"></span><br><span class="line">    +<span class="built_in">redefine-mobile</span>()</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="variable">$tag</span>-name-font-size * <span class="number">0.8</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">600</span></span><br><span class="line">    <span class="attribute">padding-bottom</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">margin-bottom</span> <span class="variable">$spacing</span>-unit</span><br><span class="line">    <span class="attribute">border-bottom</span> <span class="number">1px</span> solid <span class="built_in">var</span>(--shadow-color-<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li></ol><h2 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h2><ol><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\_partials\404-template.ejs</code>文件如下：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="nf-main"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="nf-container"&gt;</span><br><span class="line">        &lt;div class="error_img_404"&gt;</span><br><span class="line">            &lt;img src="&lt;%= url_for(theme.page_404.img_src) %&gt;"&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class="nf-text"&gt;</span><br><span class="line">            &lt;h1&gt;404&lt;/h1&gt;</span><br><span class="line">            &lt;h2&gt;&lt;%- __('page_404.info') %&gt;&lt;/h2&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div class="nf-button"&gt;</span><br><span class="line">        &lt;a href="/" class="button large center"&gt;&lt;i class="fa-regular fa-house"&gt;&lt;/i&gt; &lt;%- __('page_404.backhome') %&gt; &lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\404.styl</code>文件如下：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.nf-main</span></span><br><span class="line">	<span class="attribute">display</span> flex</span><br><span class="line">	<span class="attribute">flex-direction</span> column</span><br><span class="line">	<span class="attribute">max-width</span> <span class="number">1000px</span></span><br><span class="line">	<span class="attribute">transform</span> <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">25%</span>)</span><br><span class="line"></span><br><span class="line">	+<span class="built_in">redefine-mobile</span>()</span><br><span class="line">		<span class="attribute">transform</span> <span class="built_in">translate</span>(<span class="number">0</span>, <span class="number">15%</span>)</span><br><span class="line"></span><br><span class="line">	<span class="selector-class">.nf-container</span></span><br><span class="line">		<span class="attribute">margin</span> <span class="number">0</span></span><br><span class="line">		<span class="attribute">display</span> flex </span><br><span class="line">		<span class="attribute">flex-direction</span> row </span><br><span class="line">		<span class="attribute">background</span> <span class="built_in">var</span>(--second-background-color)</span><br><span class="line">		<span class="attribute">border</span> solid <span class="number">1px</span> <span class="built_in">var</span>(--border-color)</span><br><span class="line">		<span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-large</span><br><span class="line"></span><br><span class="line">		+<span class="built_in">redefine-mobile</span>()</span><br><span class="line">			<span class="attribute">flex-direction</span> column</span><br><span class="line"></span><br><span class="line">		<span class="selector-class">.error_img_404</span></span><br><span class="line">			<span class="attribute">display</span> inline</span><br><span class="line">			<span class="attribute">overflow</span> hidden</span><br><span class="line">			<span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">			<span class="attribute">height</span> auto</span><br><span class="line">			<span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-large <span class="number">0</span> <span class="number">0</span> <span class="variable">$redefine</span>-border-radius-large</span><br><span class="line"></span><br><span class="line">			+<span class="built_in">redefine-mobile</span>()</span><br><span class="line">				<span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-large <span class="variable">$redefine</span>-border-radius-large <span class="number">0</span> <span class="number">0</span> </span><br><span class="line">				<span class="attribute">width</span> auto </span><br><span class="line">				<span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="selector-class">.nf-text</span></span><br><span class="line">			<span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">			<span class="attribute">height</span> auto </span><br><span class="line">			<span class="attribute">display</span> flex</span><br><span class="line">			<span class="attribute">flex-direction</span> column</span><br><span class="line">			<span class="attribute">justify-content</span> center</span><br><span class="line">			<span class="attribute">align-items</span> center </span><br><span class="line">			<span class="attribute">padding</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">			+<span class="built_in">redefine-mobile</span>()</span><br><span class="line">				<span class="attribute">width</span> auto </span><br><span class="line">				<span class="attribute">height</span> <span class="number">100%</span>				</span><br><span class="line"></span><br><span class="line">			<span class="selector-tag">h1</span></span><br><span class="line">				<span class="attribute">font-size</span> <span class="number">100px</span></span><br><span class="line">				<span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">				<span class="attribute">color</span> <span class="built_in">var</span>(--first-text-color)</span><br><span class="line">			<span class="selector-tag">h2</span> </span><br><span class="line">				<span class="attribute">font-size</span> <span class="number">1.2rem</span></span><br><span class="line">				<span class="attribute">font-weight</span> <span class="number">400</span></span><br><span class="line">				<span class="attribute">color</span> <span class="built_in">var</span>(--first-text-color)				</span><br><span class="line"></span><br><span class="line">	<span class="selector-class">.nf-button</span></span><br><span class="line">		<span class="attribute">height</span> <span class="number">100px</span></span><br><span class="line">		<span class="selector-tag">a</span></span><br><span class="line">			<span class="attribute">border-radius</span> <span class="variable">$redefine</span>-border-radius-small <span class="meta">!important</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在调试时，Hexo的<code>404</code>页面只能通过<code>http://localhost:4000/404.html</code>来访问，其效果如下图：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-404.png"></p></li></ol><h2 id="关于页面"><a href="#关于页面" class="headerlink" title="关于页面"></a>关于页面</h2><ol><li><p>在<code>&lt;Blog&gt;\themes\redefine\layout\_partials\</code>路径下新建<code>about.ejs</code>文件：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="about-container"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%- partial('_partials/headerCover', {articleObject: page}) %&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div class="about-content markdown-body px-2 sm:px-6 md:px-8 pb-8"&gt;</span><br><span class="line">        &lt;%- page.content %&gt;</span><br><span class="line">    &lt;/div&gt;    </span><br><span class="line">    </span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>&lt;Blog&gt;\themes\redefine\layout\page.ejs</code>文件，引入<code>about.ejs</code>：</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial('_widgets/progress-bar') %&gt;</span><br><span class="line">&lt;% if (theme.global.preloader) { %&gt;</span><br><span class="line">    &lt;%- partial('_partials/preloader') %&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;main class="page-container" id="swup"&gt;</span><br><span class="line"></span><br><span class="line">    &lt;% if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; !page.prev) { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-banner') %&gt;</span><br><span class="line">    &lt;% } else if (theme.home_banner.enable === true &amp;&amp; is_home() &amp;&amp; page.prev &amp;&amp; theme.home_banner.style === "fixed") { %&gt;</span><br><span class="line">        &lt;%- partial('_partials/home-background') %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">+    &lt;% if( is_post() || is_archive() || is_category() || is_tag() || page.title === 'category' || page.title === 'categories' || page.title === 'tag' || page.title === 'tags' || page.title === 'about' ) { %&gt;</span><br><span class="line">        &lt;% if (theme.post_banner.bg_img_api) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_img_api %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;% } else if (theme.post_banner.bg_default_img) { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src="&lt;%= theme.post_banner.bg_default_img %&gt;"&gt;&lt;/div&gt;</span><br><span class="line">        &lt;%  } else { %&gt;</span><br><span class="line">            &lt;div id="post-banner-bg-img" &gt;&lt;img src='/imgs/home-banner-img.jpg'&gt; &lt;/div&gt;</span><br><span class="line">        &lt;% } %&gt;</span><br><span class="line">    &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class="main-content-container"&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class="main-content-header"&gt;</span><br><span class="line">            &lt;%- partial('_partials/navbar') %&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class="main-content-body"&gt;</span><br><span class="line"></span><br><span class="line">            &lt;% if (is_home() &amp;&amp; theme.home.sidebar.enable === true &amp;&amp; theme.home.sidebar.position === "left") { %&gt;</span><br><span class="line">                &lt;%- partial('_partials/home-sidebar') %&gt;</span><br><span class="line">            &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">            &lt;div class="main-content"&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% if (is_home()) { %&gt;</span><br><span class="line">                    &lt;%- partial('_partials/home-content') %&gt;</span><br><span class="line">                    &lt;div class="comment-container pjax"&gt;&lt;/div&gt;</span><br><span class="line">                &lt;% } else if (is_archive()) { %&gt;</span><br><span class="line">                    &lt;%- partial('archive-content') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (is_post()) { %&gt;</span><br><span class="line">                    &lt;%- partial('article-content') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (is_category()) { %&gt;</span><br><span class="line">                    &lt;%- partial('category-content') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (is_tag()) { %&gt;</span><br><span class="line">                    &lt;%- partial('tag-content') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (page.title === 'category' || page.title === 'categories') { %&gt;</span><br><span class="line">                    &lt;%- partial('category-list') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (page.title === 'tag' || page.title === 'tags') { %&gt;</span><br><span class="line">                    &lt;%- partial('_widgets/tagcloud') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } else if (page.title === 'Page Not Found' || page.title === '404') { %&gt;</span><br><span class="line">                    &lt;%- partial('_partials/404-template') %&gt;</span><br><span class="line"></span><br><span class="line">+                &lt;% } else if (page.title === 'about') { %&gt;</span><br><span class="line">+                    &lt;%- partial('_partials/about') %&gt;</span><br><span class="line">+</span><br><span class="line">                &lt;% } else { %&gt;</span><br><span class="line">                    &lt;%- partial('_partials/page-template') %&gt;</span><br><span class="line"></span><br><span class="line">                &lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>在<code>&lt;Blog&gt;\themes\redefine\source\css\layout\_partials\</code>路径下新建<code>about.styl</code>文件：</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">'../../common/variables'</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.about-container</span></span><br><span class="line">	<span class="built_in">redefine-container</span>(</span><br><span class="line">	false,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	<span class="number">0</span>,</span><br><span class="line">	<span class="number">0px</span>,</span><br><span class="line">	<span class="number">30px</span></span><br><span class="line">	)</span><br><span class="line">	<span class="built_in">redefine-banner</span>()</span><br><span class="line"></span><br><span class="line">	<span class="selector-class">.about-content</span></span><br><span class="line">		<span class="attribute">padding</span> <span class="number">30px</span></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>修改<code>G:\Web\themes\redefine\source\css\style.styl</code>文件，引入<code>about.styl</code>:</p><div class="highlight-container" data-rel="Stylus"><figure class="iseeu highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="keyword">@import</span> <span class="string">'layout/_partials/about.styl'</span></span><br></pre></td></tr></tbody></table></figure></div></li><li><p>渲染效果如下图：<img lazyload="" src="/images/loading.svg" data-src="/posts/e61328ad/blog-setup-redefine-about.png"></p></li></ol></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><i class="fa-solid fa-bookmark" style="margin:0 9px 0 6px"></i><strong>标&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;题：</strong> Redefine主题修改</li><li><i class="fa-solid fa-user" style="margin:0 8px 0 4px"></i><strong>作&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;者：</strong> 安逸</li><li><i class="fa-solid fa-link" style="margin:0 7px 0 0"></i><strong>链&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接：</strong> https://welinkee.github.io/posts/e61328ad/</li><li><i class="fa-solid fa-pen-fancy" style="margin:0 7px 0 3px"></i><strong>创建日期：</strong> 2024-08-22</li><li><i class="fa-solid fa-wrench" style="margin:0 7px 0 3px"></i><strong>更新日期：</strong> 2024-08-25</li><li><i class="fa-solid fa-copyright" style="margin:0 10px 0 1px"></i><strong>版权声明：</strong> 本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/Hexo/">#Hexo</a>&nbsp;</li><li class="tag-item mx-0.5"><a href="/tags/Redefine/">#Redefine</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/posts/805df67f/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">Redefine写作</span> <span class="post-nav-item">上一篇</span></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title"><i class="fa-regular fa-rectangle-list"></i>&nbsp;&nbsp;目录</div><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E4%BD%93%E5%BC%95%E5%85%A5"><span class="nav-number">1.</span> <span class="nav-text">字体引入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A6%96%E9%A1%B5%E5%88%86%E7%B1%BB%E6%A0%8F"><span class="nav-number">2.</span> <span class="nav-text">首页分类栏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E6%A0%B7%E5%BC%8F"><span class="nav-number">3.</span> <span class="nav-text">文章页样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%A6%96%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87"><span class="nav-number">3.1.</span> <span class="nav-text">页首背景图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E6%96%87%E6%A0%8F"><span class="nav-number">3.2.</span> <span class="nav-text">正文栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E6%A0%8F"><span class="nav-number">3.3.</span> <span class="nav-text">目录栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E6%81%AF%E6%A0%8F"><span class="nav-number">3.4.</span> <span class="nav-text">信息栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="nav-number">3.5.</span> <span class="nav-text">代码块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E9%A2%98%E6%A0%8F"><span class="nav-number">3.6.</span> <span class="nav-text">标题栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%88%E6%9D%83%E6%A0%8F"><span class="nav-number">3.7.</span> <span class="nav-text">版权栏</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E8%84%9A%E6%A0%B7%E5%BC%8F"><span class="nav-number">4.</span> <span class="nav-text">页脚样式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BD%92%E6%A1%A3%E9%A1%B5"><span class="nav-number">5.</span> <span class="nav-text">归档页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%B1%BB%E9%A1%B5"><span class="nav-number">6.</span> <span class="nav-text">分类页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="nav-number">7.</span> <span class="nav-text">标签页</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#404%E9%A1%B5%E9%9D%A2"><span class="nav-number">8.</span> <span class="nav-text">404页面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E9%A1%B5%E9%9D%A2"><span class="nav-number">9.</span> <span class="nav-text">关于页面</span></a></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div id="footer-info"><img style="height:15px" src="/images/blog-logo.png">&nbsp;<a href="/">春鸟秋虫自作声&nbsp;&nbsp;</a><i class="fa-regular fa-copyright"></i>&nbsp;&nbsp;<span>安逸&nbsp;&nbsp;</span></div><div id="footer-ghbadges"><a class="github-badge" target="_blank" href="https://hexo.io/zh-cn/"><img alt="Static Badge" src="https://img.shields.io/badge/框架-Hexo-blue?style=flat&logo=Hexo"></a><a class="github-badge" target="_blank" href="https://redefine-docs.ohevan.com/"><img alt="Static Badge" src="https://img.shields.io/badge/%E4%B8%BB%E9%A2%98-Redefine-red?style=flat&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI0MDBweCIgaGVpZ2h0PSI0MDBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI%2BPHRpdGxlPmxvZ288L3RpdGxlPjxkZWZzPjxwYXRoIGQ9Ik0xNjguNDEwNTU3LDAgQzIzNy4yMTk0MDYsMCAyOTMsNTYuMTg4MjYzOSAyOTMsMTI1LjUgQzI5MywxOTQuODExNzM2IDIzNy4yMTk0MDYsMjUxIDE2OC40MTA1NTcsMjUxIEwxNjguNDEsMTcxLjM2OSBMMTY4Ljc0MTEyMywxNzEuMzY2MjEgQzE5My43Nzg1OTUsMTcwLjk1NzI5OSAyMTMuOTUwMTQ3LDE1MC4zODUxNDYgMjEzLjk1MDE0NywxMjUuMDY3MjQxIEMyMTMuOTUwMTQ3LDk5LjYzODEwMzYgMTkzLjYwMDk2LDc4Ljk5NjUwODkgMTY4LjQxMDgzOCw3OC43NjQwNTE4IEwwLDc4Ljc2MjA2OSBMMCwwIFoiIGlkPSJwYXRoLTEiPjwvcGF0aD48L2RlZnM%2BPGcgaWQ9ImxvZ28tTUlUIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBpZD0iTG9nbyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAuMDAwMDAwLCA1Mi4wMDAwMDApIj48cG9seWdvbiBpZD0i5bem5LiL6KeSIiBmaWxsPSIjQTMxRjM0IiBwb2ludHM9Ii0xLjQ2ODk2Mzg0ZS0xNCAxODIgMTE2IDI5NSAwIDI5NSI%2BPC9wb2x5Z29uPjxwb2x5Z29uIGlkPSLmoq%2FlvaIiIGZpbGw9IiNDOUM4QzciIHBvaW50cz0iLTEuMzU2MTIwMDhlLTE0IDMuOTY2MDExNTVlLTE1IDI5NSAyOTUgMTg4Ljc4Mjc5OSAyOTUgLTEuMzU2MTIwMDhlLTE0IDEwNy4wNjgyNTUiPjwvcG9seWdvbj48bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI%2BPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT48L21hc2s%2BPHVzZSBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiNDOUM4QzciIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPjxwb2x5Z29uIGlkPSLpmLTlvbEiIGZpbGw9IiM4QThCOEMiIG1hc2s9InVybCgjbWFzay0yKSIgcG9pbnRzPSIwIDAgMTA3LjkzNzMxOCAzLjk2NjAxMTU1ZS0xNSAyOTUgMTgzLjQyNDgzOSAyOTUgMjk1Ij48L3BvbHlnb24%2BPC9nPjwvZz48L3N2Zz4%3D"></a><a class="github-badge" target="_blank" href="https://vercel.com/"><img alt="Static Badge" src="https://img.shields.io/badge/%E9%83%A8%E7%BD%B2-Vercel-brightgreen?style=flat&logo=vercel"></a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索" spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/libs/Swup.min.js"></script><script src="/js/libs/SwupSlideTheme.min.js"></script><script src="/js/libs/SwupScriptsPlugin.min.js"></script><script src="/js/libs/SwupProgressPlugin.min.js"></script><script src="/js/libs/SwupScrollPlugin.min.js"></script><script src="/js/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/tools/imageViewer.js" type="module"></script><script src="/js/utils.js" type="module"></script><script src="/js/main.js" type="module"></script><script src="/js/layouts/navbarShrink.js" type="module"></script><script src="/js/tools/scrollTopBottom.js" type="module"></script><script src="/js/tools/lightDarkSwitch.js" type="module"></script><script src="/js/layouts/categoryList.js" type="module"></script><script src="/js/tools/localSearch.js" type="module"></script><script src="/js/tools/codeBlock.js" type="module"></script><script src="/js/layouts/lazyload.js" type="module"></script><script src="/js/libs/Typed.min.js"></script><script src="/js/plugins/typed.js" type="module"></script><div class="post-scripts" data-swup-reload-script><script src="/js/tools/tocToggle.js" type="module"></script><script src="/js/layouts/toc.js" type="module"></script><script src="/js/plugins/tabs.js" type="module"></script></div></body></html>